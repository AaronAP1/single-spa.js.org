<html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Starting From Scratch · single-spa</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta property="og:title" content="Starting From Scratch · single-spa"/><meta property="og:type" content="website"/><meta property="og:url" content="https://canopytax.github.io/single-spa.js.org/index.html"/><meta property="og:description" content="## Project Overview"/><link rel="shortcut icon" href="/img/logo-blue-favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://canopytax.github.io/single-spa.js.org/blog/atom.xml" title="single-spa Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://canopytax.github.io/single-spa.js.org/blog/feed.xml" title="single-spa Blog RSS Feed"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:300|Oswald:300, 400|Roboto:100, 400"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script><script type="text/javascript" src="/js/index.js"></script><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible doc separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/logo-white-bgblue.svg" alt="single-spa"/><h2 class="headerTitle">single-spa</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/building-applications.html" target="_self">Docs</a></li><li class=""><a href="/docs/api.html" target="_self">API</a></li><li class=""><a href="/en/help.html" target="_self">Help</a></li><li class=""><a href="/blog" target="_self">Blog</a></li><li class=""><a href="https://github.com/CanopyTax/single-spa" target="_self">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Getting Started</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Getting Started</h3><ul><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/docs/starting-from-scratch.html">Starting from scratch</a></li><li class="navListItem"><a class="navItem" href="/docs/migrating-tutorial.html">Migrating an Existing Project</a></li></ul></div><div class="navGroup navGroupActive"><h3>single-spa Applications</h3><ul><li class="navListItem"><a class="navItem" href="/docs/building-applications.html">Building</a></li><li class="navListItem"><a class="navItem" href="/docs/configuration.html">Configuration</a></li><li class="navListItem"><a class="navItem" href="/docs/separating-applications.html">Separating</a></li><li class="navListItem"><a class="navItem" href="/docs/migrating-existing-spas.html">Migrating</a></li></ul></div><div class="navGroup navGroupActive"><h3>Examples</h3><ul><li class="navListItem"><a class="navItem" href="/docs/examples.html">Examples</a></li></ul></div><div class="navGroup navGroupActive"><h3>Ecosystem</h3><ul><li class="navListItem"><a class="navItem" href="/docs/ecosystem.html">Ecosystem</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/CanopyTax/single-spa.js.org/blob/master/docs/starting-from-scratch.md" target="_blank" rel="noreferrer noopener">Edit</a><h1>Starting From Scratch</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="project-overview"></a><a href="#project-overview" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Project Overview</h2>
<p>single-spa allows you to build micro frontends that coexist and can each be written with their own framework. This will allow you and your team to:</p>
<ol>
<li>Use multiple frameworks on the same page. <a href="https://single-spa.js.org/docs/ecosystem.html#docsNav">see the single-spa ecosystem for more info</a></li>
<li>Write code using a new framework, without rewriting your existing application</li>
<li><a href="https://en.wikipedia.org/wiki/Lazy_loading">Lazy load</a> code for improved initial load time</li>
</ol>
<p>For this tutorial, we will be focused on creating a one code repo, one build single-spa application from scratch using React and Angular1(AngularJS) with Webpack.</p>
<p>It is important to note that you do not need to use webpack to use single-spa.</p>
<!-- Would love some guidance here -->
It is simply an option that ...........? 
<p>You can find the completed <a href="">project repo here</a>. Read more about <a href="https://single-spa.js.org/docs/separating-applications.html">seperating applications</a> using single-spa.</p>
<p>Be sure to read through the <a href="https://single-spa.js.org/">singe-spa docs</a>, check out the other tutorials and the <a href="https://github.com/CanopyTax/single-spa">single-spa github</a> for more info.</p>
<h2><a class="anchor" aria-hidden="true" id="step-one-project-set-up"></a><a href="#step-one-project-set-up" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step One: Project Set up</h2>
<p>Create a new directory to house our project, followed by a <code>src</code> folder to hold all of our micro-service applications.</p>
<pre><code class="hljs css bash">mkdir single-spa-simple-example &amp;&amp; <span class="hljs-built_in">cd</span> single-spa-simple-example
mkdir src
</code></pre>
<p>In the root of our new project, initialize the package manager of your choice and install single-spa. For this tutorial, we will be using <a href="https://yarnpkg.com/en/">yarn</a>.</p>
<pre><code class="hljs css bash">yarn init
yarn add single-spa
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="a-set-up-babel"></a><a href="#a-set-up-babel" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>a) Set up Babel</h3>
<p>In order to take advantage of the latest verion of Javascript, regardless of current browser compatability, we will use <a href="https://babeljs.io/">Babel</a>.</p>
<p>Start by adding the following with your package manager:</p>
<!-- SHOULD I Explain each of the following babel packages I am adding or just link to the docs? -->
<pre><code class="hljs css bash">yarn add babel-core babel-plugin-syntax-dynamic-import babel-preset-env babel-preset-latest babel-preset-react --dev
</code></pre>
<p>Then, in your root directory create a <code>.babelrc</code> file and include the following:</p>
<pre><code class="hljs css js"><span class="hljs-comment">// .babelrc</span>
{
    <span class="hljs-string">"presets"</span>: [
      [<span class="hljs-string">"env"</span>, {
        <span class="hljs-string">"targets"</span>: {
          <span class="hljs-string">"browsers"</span>: [<span class="hljs-string">"last 2 versions"</span>]
        }
      }],
      [<span class="hljs-string">"react"</span>]
    ],
    <span class="hljs-string">"plugins"</span>: [
      <span class="hljs-string">"syntax-dynamic-import"</span>
    ]
  }
</code></pre>
<p>If you would like to learn more about what each of these things are doing, check out the <a href="https://babeljs.io/docs/setup/">Babel docs</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="b-set-up-webpack"></a><a href="#b-set-up-webpack" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>b) Set up webpack</h3>
<p><em>Once again, it is important to note that you do not have to use webpack in order to get up an running with single-spa. Checkout the documention on <a href="https://single-spa.js.org/docs/separating-applications.html">Separating application</a> to learn more about the different ways you can use single-spa for your specific build.</em></p>
<p>Start by adding webpack, webpack plugins and loaders.</p>
<p><em>Webpack</em></p>
<pre><code class="hljs css bash">yarn add webpack webpack-dev-server webpack-cli --dev
</code></pre>
<p><em>Plugins</em></p>
<pre><code class="hljs css bash">yarn add clean-webpack-plugin --dev
</code></pre>
<p><em>Loaders</em></p>
<pre><code class="hljs css bash">yarn add style-loader css-loader html-loader --dev
</code></pre>
  <!-- Should I walk through the purpose for each of the webpack plugins I am using? Or just link to the docs? -->
  In the root directory create your `webpack.config.js` file. 
<pre><code class="hljs css bash">touch webpack.config.js
</code></pre>
<p>See the following example of how to set up your config file:</p>
<pre><code class="hljs css js"><span class="hljs-comment">// webpack.config.js</span>
<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>);
<span class="hljs-keyword">const</span> webpack = <span class="hljs-built_in">require</span>(<span class="hljs-string">'webpack'</span>);
<span class="hljs-keyword">const</span> CleanWebpackPlugin = <span class="hljs-built_in">require</span>(<span class="hljs-string">'clean-webpack-plugin'</span>);
<span class="hljs-keyword">const</span> ContextReplacementPlugin = <span class="hljs-built_in">require</span>(<span class="hljs-string">'webpack/lib/ContextReplacementPlugin'</span>);

<span class="hljs-built_in">module</span>.exports = {
    <span class="hljs-attr">mode</span>: <span class="hljs-string">'development'</span>,
    <span class="hljs-attr">entry</span>: {
      <span class="hljs-comment">// Set the single-spa config as the project entry point</span>
        <span class="hljs-string">'single-spa.config'</span>: <span class="hljs-string">'src/root-application/single-spa.config.js'</span>,
    },
    <span class="hljs-attr">output</span>: {
        <span class="hljs-attr">publicPath</span>: <span class="hljs-string">'/dist/'</span>,
        <span class="hljs-attr">filename</span>: <span class="hljs-string">'[name].js'</span>,
        <span class="hljs-attr">path</span>: path.resolve(__dirname, <span class="hljs-string">'dist'</span>),
    },
    <span class="hljs-attr">module</span>: {
        <span class="hljs-attr">rules</span>: [
            {
              <span class="hljs-comment">// Webpack style loader added so we can use materialize</span>
                test: <span class="hljs-regexp">/\.css$/</span>,
                <span class="hljs-attr">use</span>: [<span class="hljs-string">'style-loader'</span>, <span class="hljs-string">'css-loader'</span>]
            },
          {
            <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.js$/</span>,
            <span class="hljs-attr">exclude</span>: [path.resolve(__dirname, <span class="hljs-string">'node_modules'</span>)],
            <span class="hljs-attr">loader</span>: <span class="hljs-string">'babel-loader'</span>,
          },
            {
              <span class="hljs-comment">// This plugin will allow us to use html templates when we get to the angular1 app </span>
                test: <span class="hljs-regexp">/\.html$/</span>,
                <span class="hljs-attr">exclude</span>: <span class="hljs-regexp">/node_modules/</span>,
                <span class="hljs-attr">loader</span>: <span class="hljs-string">'html-loader'</span>,
            },
        ],
    },
    <span class="hljs-attr">node</span>: {
        <span class="hljs-attr">fs</span>: <span class="hljs-string">'empty'</span>
    }, 
    <span class="hljs-attr">resolve</span>: {
        <span class="hljs-attr">modules</span>: [
            __dirname,
            <span class="hljs-string">'node_modules'</span>,
        ],
    },
    <span class="hljs-attr">plugins</span>: [
      <span class="hljs-comment">// A webpack plugin to remove/clean the build folder(s) before building</span>
        <span class="hljs-keyword">new</span> CleanWebpackPlugin([<span class="hljs-string">'dist'</span>]),
        <span class="hljs-comment">// Webpack plugin that allows you to override the inferred information</span>
        <span class="hljs-comment">// the angular core context is restricted to files within the src directory</span>
        <span class="hljs-comment">// I AM HONESTLY NOT SURE IF THIS ^ IS CORRECT </span>
        <span class="hljs-keyword">new</span> ContextReplacementPlugin(
            <span class="hljs-regexp">/(.+)?angular(\\|\/)core(.+)?/</span>,
            path.resolve(__dirname, <span class="hljs-string">'../src'</span>)
        )
    ],
    <span class="hljs-attr">devtool</span>: <span class="hljs-string">'source-map'</span>,
    <span class="hljs-attr">externals</span>: [],
    <span class="hljs-attr">devServer</span>: {
        <span class="hljs-attr">historyApiFallback</span>: <span class="hljs-literal">true</span>
    }
}; 
</code></pre>
<p>Read more about the webpack <a href="https://webpack.js.org/plugins/">plugins</a> and <a href="https://webpack.js.org/loaders/">loaders</a> we have used here:</p>
<p>Loaders</p>
<ul>
  <li><a href="https://webpack.js.org/loaders/html-loader/" target="_blank" rel="noopener noreferrer">html-Loader</a></li>
  <li><a href="https://webpack.js.org/loaders/style-loader/" target="_blank" rel="noopener noreferrer">style-Loader</a></li>
  <li><a href="https://webpack.js.org/loaders/css-loader/" target="_blank" rel="noopener noreferrer">css-loader</a></li>
  <li><a href="https://webpack.js.org/loaders/babel-loader/" target="_blank" rel="noopener noreferrer">babel-Loader</a></li>
</ul>
<p>Plugins</p>
<ul>
  <li><a href="https://www.npmjs.com/package/clean-webpack-plugin" target="_blank" rel="noopener noreferrer">CleanWebpackPlugin</a></li>
  <li><a href="https://webpack.js.org/plugins/context-replacement-plugin/" target="_blank" rel="noopener noreferral">ContextReplacementPlugin</a></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="step-two-create-the-master-html-file"></a><a href="#step-two-create-the-master-html-file" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step Two: Create the master html file</h2>
<p>The next step is to create what single-spa calls your “root application.” Really your root application is just the stuff that initializes single-spa, and it starts with an html file.</p>
<p>You’ll want to keep your root application as small as possible, since it’s sort of the master controller of everything and could become a bottleneck. You don’t want to be constantly changing both the root application and the child applications.</p>
<h4><a class="anchor" aria-hidden="true" id="a-create-a-master-html"></a><a href="#a-create-a-master-html" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>a) Create a master html</h4>
<p>In your root directory, create a master html file.</p>
<pre><code class="hljs css bash">touch index.html
</code></pre>
<p>In order to register two applications simultaneously, we will create a <code>&lt;div id=&quot;app-name&quot;&gt;&lt;/div&gt;</code> for each app so that they never try to modify the same DOM at the same time.
For this project we will be creating the following micro-applications:</p>
<ol>
<li><p>NavBar - <em>This will be a React app</em></p></li>
<li><p>Home - <em>This will be a React app</em></p></li>
<li><p>Gifs - <em>This will be an Angular1 app</em></p></li>
</ol>
<p>In <code>index.html</code> add the following:</p>
<pre><code class="hljs css html"><span class="hljs-comment">&lt;!-- index.html --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"navBar"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"home"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"gifs"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="b-include-scripts-and-stylesheets"></a><a href="#b-include-scripts-and-stylesheets" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>b) include scripts and stylesheets</h3>
<p>For styling, we will be using the <a href="https://materializecss.com/">Materialize-css</a> framework. To use Materialize we need to include styles and scripts in the root <code>index.html</code> file. This will allow all of our seperate applications to access the Materialize library.</p>
<p>Additionally, to get single-spa connected, we will need to include a script tag connecting the html file to the <a href="https://single-spa.js.org/docs/configuration.html#indexhtml-file">root-application</a> via <code>single-spa.config.js</code> file (we will be building this in the next step).</p>
<pre><code class="hljs css html"><span class="hljs-comment">&lt;!-- index.html --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- Materialize CSS --&gt;</span> 
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/css/materialize.min.css"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://fonts.googleapis.com/icon?family=Material+Icons"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- single-spa apps --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"navBar"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"home"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"gifs"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- Jquery --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- Materialize --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/js/materialize.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- connect to the single-spa config file --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/dist/single-spa.config.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="step-three-registering-an-app"></a><a href="#step-three-registering-an-app" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step Three: Registering an App</h2>
<p>It is required to <a href="https://single-spa.js.org/docs/configuration.html#registering-applications">register your applications</a> with single-spa. This enables single-spa to know how and when to initiate, load, mount and unmount an application.</p>
<p>As you saw earlier, we have already set up webpack and our master html file to look for registration inside of the single spa config. This will allow hierarchy to be maintained between the applications.</p>
<p>From the root directory, create a new folder called <code>root-application</code> then create your <code>single-spa-config.js</code> file.</p>
<pre><code class="hljs css bash"><span class="hljs-comment"># from the root directory</span>
mkdir root-application
touch root-application/single-spa-config.js
</code></pre>
<p>Now that we have our single-spa-config.js file, we can begin to register applications. In order to register an application with single-spa we call the <code>registerApplication()</code> api and include the application <code>name</code>, a <code>loadingFunction</code> and an <code>activityFunction</code>.</p>
<p>In <code>single-spa-config.js</code>, start by importing the <code>registerApplication</code> and <code>start</code> functions.</p>
<pre><code class="hljs css js"><span class="hljs-comment">// single-spa-config.js</span>
<span class="hljs-keyword">import</span> {registerApplication, start} <span class="hljs-keyword">from</span> <span class="hljs-string">'single-spa'</span>;
</code></pre>
<p>The start() api must be called by your single spa config in order for applications to actually be mounted. Before start is called, applications will be loaded, but not bootstrapped/mounted/unmounted. Learn more about the <a href="https://single-spa.js.org/docs/configuration.html#calling-singlespastart">start()</a> api here.</p>
<p>With our functions imported, we can now register an application with single-spa and call <code>start()</code>. Lets start by creating a 'home' application.</p>
<pre><code class="hljs css js"><span class="hljs-comment">// single-spa-config.js</span>
<span class="hljs-keyword">import</span> {registerApplication, start} <span class="hljs-keyword">from</span> <span class="hljs-string">'single-spa'</span>

registerApplication(
  <span class="hljs-comment">// Name of our single-spa application</span>
  <span class="hljs-string">'home'</span>, 
  <span class="hljs-comment">// Our loading function </span>
  loadingFunction, 
  <span class="hljs-comment">// Our activity function</span>
  activityFunction
  );

  start()
</code></pre>
<p>The third argument to registerApplication, <code>activityFunction</code>, must be a pure function. The function is provided window.location as the first argument, and returns a truthy value whenever the application should be active. Most commonly, the activity function determines if an application is active by looking at window.location/the first param.
Since <code>home</code> will be our root component, we can set the <code>activityFunction</code> to be our root path.</p>
<pre><code class="hljs css js"><span class="hljs-comment">// single-spa-config.js</span>
<span class="hljs-keyword">import</span> {registerApplication, start} <span class="hljs-keyword">from</span> <span class="hljs-string">'single-spa'</span>

registerApplication(
  <span class="hljs-comment">// Name of our single-spa application</span>
  <span class="hljs-string">'home'</span>, 
  <span class="hljs-comment">// Our loading function </span>
  loadingFunction, 
  <span class="hljs-comment">// Our activity function</span>
  () =&gt; location.pathname === <span class="hljs-string">""</span> || location.pathname === <span class="hljs-string">"/"</span>)
  );

  start()
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="step-four-create-the-home-application"></a><a href="#step-four-create-the-home-application" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step Four: Create the Home application</h2>
<h3><a class="anchor" aria-hidden="true" id="a-folder-setup"></a><a href="#a-folder-setup" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>a) Folder setup</h3>
<p>We will be using React to create the home component. Using your package manager, add <code>react</code>, <code>react-dom</code>, and the sinlge-spa React helper <a href="https://single-spa.js.org/docs/ecosystem.html">single-spa-react</a>.</p>
<pre><code class="hljs css bash">yarn add react react-dom single-spa-react
</code></pre>
<p>At the beginning of the tutorial we created a <code>src</code> folder to house all of our applications. It is this folder that we will house each of our seperate applications. These app folders will each contain an application file to control the bootstrap, mount and unmount functions and a <code>root</code> component. Read more about the <a href="https://single-spa.js.org/docs/building-applications.html#registered-application-lifecycle">registered application lifecycle</a>.</p>
<p>Start by adding a <code>home</code> folder inside of our <code>src</code> directory to house our home application. Then inside of <code>home</code> we will create two files: <code>home.app.js</code> and <code>root.component.js</code>.</p>
<pre><code class="hljs css bash"><span class="hljs-built_in">cd</span> src/home/
touch home.app.js root.component.js
</code></pre>
<p>Your file tree should look like this:</p>
<pre><code class="hljs css bash">|--single-spa-simple-example
    |--node_modules
    |--src
        |--root-application
            |--single-spa-config.js
        |--home
            |--home.app.js
            |--root.component.js
  |--babelrc
  |--index.html
  |--package.json
  |--webpack.config.js
  |--yarn-error.log
  |--yarn.lock
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="b-application-lifecycles"></a><a href="#b-application-lifecycles" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>b) Application lifecycles</h3>
<p>Since we have registered our applicaiton, single-spa will be listening for the <code>home</code> app to bootstrap and mount. We will set this up in <code>home.app.js</code>.</p>
<p>We start by importing our dependencies and, using <a href="https://github.com/CanopyTax/single-spa-react">single-spa-react</a>, we can use the generic React lifecycle hooks.</p>
<p>Finally, we will use the <code>domElementGetter()</code> function to return a DOM Element where the Home application will be bootstrapped, mounted, and unmounted.</p>
<pre><code class="hljs css js"><span class="hljs-comment">// home.app.js</span>
<span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> ReactDOM <span class="hljs-keyword">from</span> <span class="hljs-string">'react-dom'</span>;
<span class="hljs-keyword">import</span> singleSpaReact <span class="hljs-keyword">from</span> <span class="hljs-string">'single-spa-react'</span>;
<span class="hljs-keyword">import</span> Home <span class="hljs-keyword">from</span> <span class="hljs-string">'./root.component.js'</span>;



<span class="hljs-keyword">const</span> reactLifecycles = singleSpaReact({
  React,
  ReactDOM,
  <span class="hljs-attr">rootComponent</span>: Home,
  domElementGetter,
})
</code></pre>
<p>With our imports estaplished, we can create the required lifecycle functions:</p>
<pre><code class="hljs css js"><span class="hljs-comment">// home.app.js</span>
<span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> ReactDOM <span class="hljs-keyword">from</span> <span class="hljs-string">'react-dom'</span>;
<span class="hljs-keyword">import</span> singleSpaReact <span class="hljs-keyword">from</span> <span class="hljs-string">'single-spa-react'</span>;
<span class="hljs-keyword">import</span> Home <span class="hljs-keyword">from</span> <span class="hljs-string">'./root.component.js'</span>;



<span class="hljs-keyword">const</span> reactLifecycles = singleSpaReact({
  React,
  ReactDOM,
  <span class="hljs-attr">rootComponent</span>: Home,
  domElementGetter,
})

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> bootstrap = [
  reactLifecycles.bootstrap,
];

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> mount = [
  reactLifecycles.mount,
];

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> unmount = [
  reactLifecycles.unmount,
];

<span class="hljs-comment">// Finally, we specify the location we want single-spa to mount our application </span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">domElementGetter</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"home"</span>)
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="c-build-the-react-app"></a><a href="#c-build-the-react-app" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>c) Build the React app</h3>
<p>Now that we have our application registered, and hooked up to single-spa with lifecycle methods, we can build our React app.</p>
<p>Open <code>home/root.component.js</code> and add the following:</p>
<pre><code class="hljs css js"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Home</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span></span>{
  render(){
    <span class="hljs-keyword">return</span>(
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">marginTop:</span> '<span class="hljs-attr">100px</span>' }}&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Home Component<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
  }
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Home
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="d-connect-to-the-root-application"></a><a href="#d-connect-to-the-root-application" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>d) Connect to the root application</h3>
<p>Head back to the root-application folder and in single-spa-config.js we need to add a <a href="https://single-spa.js.org/docs/configuration.html#loading-function">loading function</a> for our new home app.
With <a href="https://webpack.js.org/">webpack 2+</a>, we can take advantage of its support for <a href="https://webpack.js.org/guides/code-splitting/">code splitting</a> with <a href="https://webpack.js.org/api/module-methods/#import">import()</a> in order to easily lazy-load registered applications when they are needed.</p>
<pre><code class="hljs css js"><span class="hljs-comment">// single-spa-config.js</span>
<span class="hljs-keyword">import</span> {registerApplication, start} <span class="hljs-keyword">from</span> <span class="hljs-string">'single-spa'</span>

registerApplication(
  <span class="hljs-comment">// Name of our single-spa application</span>
  <span class="hljs-string">'home'</span>, 
  <span class="hljs-comment">// Our loading function </span>
  () =&gt; <span class="hljs-keyword">import</span>(<span class="hljs-string">'../home/home.app.js'</span>),
  <span class="hljs-comment">// Our activity function</span>
  () =&gt; location.pathname === <span class="hljs-string">""</span> || location.pathname === <span class="hljs-string">"/"</span>)
);

start()
</code></pre>
<p>We are now ready to test out our first application.</p>
<p>From the root directory, start the project by running the following:</p>
<pre><code class="hljs css bash">yarn watch
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-next button" href="migrating-tutorial.html">Migrating an Existing Project →</a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#project-overview">Project Overview</a></li><li><a href="#step-one-project-set-up">Step One: Project Set up</a><ul class="toc-headings"><li><a href="#a-set-up-babel">a) Set up Babel</a></li><li><a href="#b-set-up-webpack">b) Set up webpack</a></li></ul></li><li><a href="#step-two-create-the-master-html-file">Step Two: Create the master html file</a><ul class="toc-headings"><li><a href="#a-create-a-master-html">a) Create a master html</a></li><li><a href="#b-include-scripts-and-stylesheets">b) include scripts and stylesheets</a></li></ul></li><li><a href="#step-three-registering-an-app">Step Three: Registering an App</a></li><li><a href="#step-four-create-the-home-application">Step Four: Create the Home application</a><ul class="toc-headings"><li><a href="#a-folder-setup">a) Folder setup</a></li><li><a href="#b-application-lifecycles">b) Application lifecycles</a></li><li><a href="#c-build-the-react-app">c) Build the React app</a></li><li><a href="#d-connect-to-the-root-application">d) Connect to the root application</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/logo-white-bgblue.svg" alt="single-spa" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/en/building-applications.html">Getting Started</a><a href="/docs/en/examples.html">Examples</a><a href="/docs/en/api.html">API Reference</a></div><div><h5>Community</h5><a href="/en/users.html">User Showcase</a><a href="http://stackoverflow.com/questions/tagged/single-spa" target="_blank" rel="noopener">Stack Overflow</a><a href="https://join.slack.com/t/single-spa/shared_invite/enQtMzIwMTcxNTU3ODQyLTM1Y2U1OWMzNTNjOWYyZDBlMDJhN2VkYzk3MDI2NzQ2Nzg0MzMzNjVhNWE2YjVhMTcxNjFkOWYzMjllMmUxMjk" target="_blank" rel="noopener">Chat in Slack</a><a href="https://twitter.com/" target="_blank" rel="noopener">Twitter</a></div><div><h5>More</h5><a href="/blog">Blog</a><a href="https://github.com/CanopyTax/single-spa">GitHub</a><a class="github-button" href="https://github.com/CanopyTax/single-spa" target="_blank" rel="noopener" data-icon="octicon-star" data-count-href="/CanopyTax/single-spa/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://www.canopytax.com/" target="_blank" rel="noopener" class="fbOpenSource"><img src="https://www.canopytax.com/files/themes/canopy/images/menu-head--ico-mobile.png" alt="CanopyTax Open Source" height="45"/></a><section class="copyright">Copyright © 2018 CanopyTax</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
              var search = docsearch({
                
                apiKey: '113e711177d63ab1ff28ef858cbcffa5',
                indexName: 'single_spa',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>