<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Starting From Scratch · single-spa</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;p&gt;single-spa allows you to build micro frontends that coexist and can each be written with their own framework. This will allow you and your team to:&lt;/p&gt;
"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Starting From Scratch · single-spa"/><meta property="og:type" content="website"/><meta property="og:url" content="https://canopytax.github.io/single-spa.js.org/index.html"/><meta property="og:description" content="&lt;p&gt;single-spa allows you to build micro frontends that coexist and can each be written with their own framework. This will allow you and your team to:&lt;/p&gt;
"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/logo-blue-favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://canopytax.github.io/single-spa.js.org/blog/atom.xml" title="single-spa Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://canopytax.github.io/single-spa.js.org/blog/feed.xml" title="single-spa Blog RSS Feed"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-138683004-1', 'auto');
              ga('send', 'pageview');
            </script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/js/index.js"></script><script type="text/javascript" src="/js/code-copy-to-clipboard.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/logo-white-bgblue.svg" alt="single-spa"/><h2 class="headerTitleWithLogo">single-spa</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/getting-started-overview.html" target="_self">Docs</a></li><li class=""><a href="/help.html" target="_self">Help</a></li><li class=""><a href="/blog/" target="_self">Blog</a></li><li class=""><a href="https://github.com/CanopyTax/single-spa" target="_self">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Getting Started</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Getting Started</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/getting-started-overview.html">Overview</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/starting-from-scratch.html">Starting from scratch</a></li><li class="navListItem"><a class="navItem" href="/docs/migrating-react-tutorial.html">React - Migrating to single-spa</a></li><li class="navListItem"><a class="navItem" href="/docs/migrating-angularJS-tutorial.html">AngularJS - Migrating to single-spa</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">single-spa Applications</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/building-applications.html">Building</a></li><li class="navListItem"><a class="navItem" href="/docs/configuration.html">Configuration</a></li><li class="navListItem"><a class="navItem" href="/docs/separating-applications.html">Separating</a></li><li class="navListItem"><a class="navItem" href="/docs/migrating-existing-spas.html">Migrating</a></li><li class="navListItem"><a class="navItem" href="/docs/api.html">API</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">single-spa Parcels</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/parcels-overview.html">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/parcels-api.html">API</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Examples</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/examples.html">Resources</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Ecosystem</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/ecosystem.html">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-angularjs.html">AngularJS</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-angular.html">Angular</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-angular-cli.html">Angular-Cli</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-cycle.html">Cycle</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-ember.html">Ember</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-inferno.html">Inferno</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-preact.html">Preact</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-react.html">React</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-svelte.html">svelte</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-vue.html">Vue</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Contributing</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/contributing-overview.html">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/code-of-conduct.html">Code of Conduct</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/CanopyTax/single-spa.js.org/blob/master/docs/starting-from-scratch.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 class="postHeaderTitle">Starting From Scratch</h1></header><article><div><span><p>single-spa allows you to build micro frontends that coexist and can each be written with their own framework. This will allow you and your team to:</p>
<ol>
<li>Use multiple frameworks on the same page. <a href="/docs/ecosystem.html#docsNav">See the single-spa ecosystem for more info</a></li>
<li>Write code using a new framework, without rewriting your existing application</li>
<li><a href="https://en.wikipedia.org/wiki/Lazy_loading">Lazy load</a> code for improved initial load time.</li>
</ol>
<p><strong>Single-spa can be used with just about any build system or JavaScript framework</strong>, but this tutorial will focus on creating a web app with <a href="https://webpack.js.org/">Webpack</a>, <a href="https://reactjs.org/">React</a>, and <a href="https://angularjs.org/">AngularJS</a>. Our tutorial puts everything into a single code repository, but it is also possible to have <a href="/docs/separating-applications.html#option-3-dynamic-module-loading">separate code repositories</a> for each of your applications.</p>
<p>For this tutorial we will be creating the following applications to showcase the power and usefulness of single-spa:</p>
<ol>
<li>home: a React app using <a href="https://reacttraining.com/react-router/">React Router</a></li>
<li>navBar: a React app that always displays top-level navigation</li>
<li>angularJS: an AngularJS app using <a href="https://ui-router.github.io/ng1/">angular-ui-router</a></li>
</ol>
<p>The complete code for this example is in the <a href="https://github.com/alocke12992/single-spa-simple-example"><code>single-spa-simple-example</code></a> repository.</p>
<blockquote>
<p><strong>Note</strong></p>
<p>We encourage you to read through all the <a href="/">single-spa docs</a> to become familiar with the entire single-spa setup. Visit the <a href="https://github.com/CanopyTax/single-spa">single-spa Github</a>, the <a href="https://single-spa.js.org/help.html">help section</a>, or our community <a href="https://join.slack.com/t/single-spa/shared_invite/enQtMzIwMTcxNTU3ODQyLTM1Y2U1OWMzNTNjOWYyZDBlMDJhN2VkYzk3MDI2NzQ2Nzg0MzMzNjVhNWE2YjVhMTcxNjFkOWYzMjllMmUxMjk">Slack</a> channel for more support.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="1-initial-setup"></a><a href="#1-initial-setup" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. Initial setup</h2>
<blockquote>
<p><strong>Note</strong></p>
<p>For this tutorial, we will be using <a href="https://yarnpkg.com/en/">yarn</a> but npm has its own equivalent commands and can be used almost interchangibly.</p>
</blockquote>
<p>Create a new folder for this project and navigate into it. Initialize a new project using your package manager, and then install single-spa as a dependency. Then create a <em>src/</em> folder to hold all of our micro-service applications, with each in their own folder.</p>
<pre><code class="hljs css language-sh">mkdir single-spa-simple-example &amp;&amp; <span class="hljs-built_in">cd</span> single-spa-simple-example
yarn init              <span class="hljs-comment"># or npm init</span>
yarn add single-spa    <span class="hljs-comment"># or npm install --save single-spa</span>
mkdir src
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="1a-setup-babel"></a><a href="#1a-setup-babel" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1.a Setup Babel</h3>
<p>We will be using <a href="https://babeljs.io/">Babel</a> to compile our code. Install it and some additional dependencies using:</p>
<pre><code class="hljs css language-bash">yarn add --dev @babel/core @babel/preset-env @babel/preset-react @babel/plugin-syntax-dynamic-import @babel/plugin-proposal-object-rest-spread
</code></pre>
<p>Next create a <em>.babelrc</em> file and paste in the following:</p>
<p class="filename">.babelrc</p>
<pre><code class="hljs css language-js">{
  <span class="hljs-string">"presets"</span>: [
    [<span class="hljs-string">"@babel/preset-env"</span>, {
      <span class="hljs-string">"targets"</span>: {
        <span class="hljs-string">"browsers"</span>: [<span class="hljs-string">"last 2 versions"</span>]
      }
    }],
    [<span class="hljs-string">"@babel/preset-react"</span>]
  ],
  <span class="hljs-string">"plugins"</span>: [
    <span class="hljs-string">"@babel/plugin-syntax-dynamic-import"</span>,
    <span class="hljs-string">"@babel/plugin-proposal-object-rest-spread"</span>
  ]
}
</code></pre>
<p>Learn more about what each of these packages do by visiting the <a href="https://babeljs.io/docs/setup/">Babel docs</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="1b-setup-webpack"></a><a href="#1b-setup-webpack" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1.b Setup Webpack</h3>
<blockquote>
<p><strong>Note</strong></p>
<p>It is important to point out that <strong>you do not have to use Webpack in order use single-spa</strong>. Learn more about <a href="/docs/separating-applications.html">Separating applications</a> and the different ways you can use single-spa for your specific build.</p>
</blockquote>
<p>Run the following commands to add Webpack, Webpack plugins, and loaders.</p>
<pre><code class="hljs css language-sh"><span class="hljs-comment"># Webpack core</span>
yarn add webpack webpack-dev-server webpack-cli --dev
<span class="hljs-comment"># Webpack plugins</span>
yarn add clean-webpack-plugin --dev
<span class="hljs-comment"># Webpack loaders</span>
yarn add style-loader css-loader html-loader babel-loader --dev
</code></pre>
<p>Learn more about these Webpack plugins and loaders at their respective documentation pages.</p>
<ul>
<li><a href="https://www.npmjs.com/package/clean-webpack-plugin">CleanWebpackPlugin</a></li>
<li><a href="https://webpack.js.org/loaders/style-loader/">style-loader</a></li>
<li><a href="https://webpack.js.org/loaders/css-loader/">css-loader</a></li>
<li><a href="https://webpack.js.org/loaders/html-loader/">html-Loader</a></li>
<li><a href="https://webpack.js.org/loaders/babel-loader/">babel-Loader</a></li>
</ul>
<p>In the root of your project create a new file name <em>webpack.config.js</em> and paste in the following code:</p>
<p class="filename">webpack.config.js</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>);
<span class="hljs-keyword">const</span> webpack = <span class="hljs-built_in">require</span>(<span class="hljs-string">'webpack'</span>);
<span class="hljs-keyword">const</span> CleanWebpackPlugin = <span class="hljs-built_in">require</span>(<span class="hljs-string">'clean-webpack-plugin'</span>);

<span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">mode</span>: <span class="hljs-string">'development'</span>,
  <span class="hljs-attr">entry</span>: {
    <span class="hljs-comment">// Set the single-spa config as the project entry point</span>
    <span class="hljs-string">'single-spa.config'</span>: <span class="hljs-string">'./single-spa.config.js'</span>,
  },
  <span class="hljs-attr">output</span>: {
    <span class="hljs-attr">publicPath</span>: <span class="hljs-string">'/dist/'</span>,
    <span class="hljs-attr">filename</span>: <span class="hljs-string">'[name].js'</span>,
    <span class="hljs-attr">path</span>: path.resolve(__dirname, <span class="hljs-string">'dist'</span>),
  },
  <span class="hljs-attr">module</span>: {
    <span class="hljs-attr">rules</span>: [
      {
        <span class="hljs-comment">// Webpack style loader added so we can use materialize</span>
        test: <span class="hljs-regexp">/\.css$/</span>,
        <span class="hljs-attr">use</span>: [<span class="hljs-string">'style-loader'</span>, <span class="hljs-string">'css-loader'</span>]
      }, {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.js$/</span>,
        <span class="hljs-attr">exclude</span>: [path.resolve(__dirname, <span class="hljs-string">'node_modules'</span>)],
        <span class="hljs-attr">loader</span>: <span class="hljs-string">'babel-loader'</span>,
      }, {
        <span class="hljs-comment">// This plugin will allow us to use AngularJS HTML templates</span>
        test: <span class="hljs-regexp">/\.html$/</span>,
        <span class="hljs-attr">exclude</span>: <span class="hljs-regexp">/node_modules/</span>,
        <span class="hljs-attr">loader</span>: <span class="hljs-string">'html-loader'</span>,
      },
    ],
  },
  <span class="hljs-attr">node</span>: {
    <span class="hljs-attr">fs</span>: <span class="hljs-string">'empty'</span>
  },
  <span class="hljs-attr">resolve</span>: {
    <span class="hljs-attr">modules</span>: [path.resolve(__dirname, <span class="hljs-string">'node_modules'</span>)],
  },
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-comment">// A webpack plugin to remove/clean the output folder before building</span>
    <span class="hljs-keyword">new</span> CleanWebpackPlugin(),
  ],
  <span class="hljs-attr">devtool</span>: <span class="hljs-string">'source-map'</span>,
  <span class="hljs-attr">externals</span>: [],
  <span class="hljs-attr">devServer</span>: {
    <span class="hljs-attr">historyApiFallback</span>: <span class="hljs-literal">true</span>
  }
};
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="1c-add-npm-scripts"></a><a href="#1c-add-npm-scripts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1.c Add npm scripts</h3>
<p>The last step in our project set up is to include a couple scripts in our package.json to run webpack-dev-server and to create a production build. Add the following to your <em>package.json</em>:</p>
<p class="filename">package.json</p>
<pre><code class="hljs css language-js"><span class="hljs-string">"scripts"</span>: {
  <span class="hljs-string">"start"</span>: <span class="hljs-string">"webpack-dev-server --open"</span>,
  <span class="hljs-string">"build"</span>: <span class="hljs-string">"webpack --config webpack.config.js -p"</span>
},
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="2-create-the-html-file"></a><a href="#2-create-the-html-file" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. Create the html file</h2>
<p>Our goal in this step will be to create a <strong>single-spa config</strong>. The single-spa config file is where your applications are initialized, and an html page will request this config.</p>
<p>You’ll want to keep your single-spa config as small as possible since it is the master controller and could easily become a maintenance bottleneck. You don’t want to be constantly changing both the single-spa config and the child applications.</p>
<h3><a class="anchor" aria-hidden="true" id="2a-create-indexhtml"></a><a href="#2a-create-indexhtml" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2.a Create <em>index.html</em></h3>
<p>Create an <em>index.html</em> file the root directory. Inside this file, we'll be adding a <code>div</code> element for each application, each with a unique ID. Mounting each application to a different point allows us to maintain them completely separated and so that they never try to modify the same DOM.</p>
<p>Paste in the following HTML markup:</p>
<p class="filename">index.html</p>
<pre><code class="hljs css language-html"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"navBar"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"home"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"angularJS"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="2b-include-scripts-and-stylesheets"></a><a href="#2b-include-scripts-and-stylesheets" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2.b Include scripts and stylesheets</h3>
<p>For styling, we will be using the <a href="https://materializecss.com/">Materialize</a> framework. We can enable all of our applications to access the Materialize library by including the styles and scripts in <em>index.html</em>.</p>
<p>Additionally, to enable single-spa, we will need to include a script tag that references <a href="/docs/configuration.html#indexhtml-file"><em>single-spa.config.js</em></a> in <em>index.html</em>. We will be adding and populating this file in the next step. Webpack outputs our built code to <em>dist/</em> so that will be the path of <em>single-spa.config.js</em>.</p>
<p class="filename">index.html</p>
<pre><code class="hljs css language-html"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- Materialize --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/css/materialize.min.css"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://fonts.googleapis.com/icon?family=Material+Icons"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"navBar"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"home"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"angularJS"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- jQuery --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- Materialize --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/js/materialize.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- import the single-spa config file --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/dist/single-spa.config.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="3-registering-applications"></a><a href="#3-registering-applications" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. Registering applications</h2>
<p><a href="/docs/configuration.html#registering-applications">Registering applications</a> is how we tell single-spa when and how to <code>bootstrap</code>, <code>mount</code>, and <code>unmount</code> an application.</p>
<p>Create a new file called <em>single-spa.config.js</em> in the root directory. Let's start by registering the <code>home</code> application.</p>
<p class="filename">single-spa.config.js</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> { registerApplication, start } <span class="hljs-keyword">from</span> <span class="hljs-string">'single-spa'</span>

registerApplication(
  <span class="hljs-comment">// Name of our single-spa application</span>
  <span class="hljs-string">'home'</span>,
  <span class="hljs-comment">// loadingFunction</span>
  () =&gt; {},
  <span class="hljs-comment">// activityFunction</span>
  (location) =&gt; location.pathname === <span class="hljs-string">""</span> || 
    location.pathname === <span class="hljs-string">"/"</span> || 
    location.pathname.startsWith(<span class="hljs-string">'/home'</span>)
);

start();
</code></pre>
<p>The above code needs explanation. In order to register an application with single-spa, import and call the <code>registerApplication</code> function; and include the application <code>name</code>, a <code>loadingFunction</code>, and an <code>activityFunction</code> as parameters.</p>
<p><code>loadingFunction</code> must be a function that returns a Promise (or an <a href="https://ponyfoo.com/articles/understanding-javascript-async-await"><code>async</code> function</a>). The function will be called with no arguments when loading the application for the first time. The returned promise must resolve with the application code. We will come back to this in <a href="/docs/starting-from-scratch.html#4d-connect-to-single-spa-config">Step 4.d</a> after creating the <strong>home</strong> application.</p>
<p><code>activityFunction</code> must be a function that returns a truthy value that represents whether the application should be active, and must be a pure function. The function is provided <code>window.location</code> as the first argument. The most common scenario is to determine if an application is active by looking at window.location, but not always. In this case, <code>home</code> will be our root application so it will be shown at the root url paths as well as and url pathname that begins with <code>/home</code>.</p>
<p>Lastly, we also import the <code>start</code> function from the single-spa package and call it in order for applications be mounted. Before <code>start</code> is called, applications will be loaded into the browser but not bootstrapped/mounted/unmounted. Learn more about the <a href="/docs/configuration.html#calling-singlespastart">start()</a> api here.</p>
<h2><a class="anchor" aria-hidden="true" id="4-create-the-home-application"></a><a href="#4-create-the-home-application" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4. Create the home application</h2>
<h3><a class="anchor" aria-hidden="true" id="4a-setup-home"></a><a href="#4a-setup-home" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4.a Setup home</h3>
<p>Start by adding a <em>home/</em> folder inside of the <em>src/</em> directory. Then inside of <em>home/</em> we will create two files: <em>home.app.js</em> and <em>root.component.js</em>.</p>
<pre><code class="hljs css language-sh">mkdir src/home &amp;&amp; <span class="hljs-built_in">cd</span> src/home
touch home.app.js root.component.js
</code></pre>
<p>The <strong>home</strong> application will use React with <a href="https://reacttraining.com/react-router/web/example/animated-transitions">React Router animated transitions</a>. Using your package manager, add <code>react</code>, <code>react-dom</code>, <code>react-router-dom</code>, and <a href="/docs/ecosystem-react.html"><code>single-spa-react</code></a> as dependencies.</p>
<p><code>single-spa-react</code> is a helper library that already implements single-spa lifecycle functions for React, so you don't have to implement these yourself.</p>
<pre><code class="hljs css language-sh">yarn add react react-dom single-spa-react react-router-dom react-transition-group
</code></pre>
<p>Your file tree should now look similar to this:</p>
<pre><code class="hljs css language-bash">.
├── node_modules
├── package.json
├── .gitignore
├── src
│  └── home
│       ├── home.app.js
│       └── root.component.js
├── .babelrc
├── index.html
├── single-spa.config.js
├── webpack.config.js
├── yarn-error.log
├── yarn.lock
└── README.md
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="4b-define-home-application-lifecycles"></a><a href="#4b-define-home-application-lifecycles" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4.b Define home application lifecycles</h3>
<p>Since we have registered our application, single-spa will be listening for the <strong>home</strong> application to bootstrap and mount. <strong>home</strong> app will be responsible for this. We will set this up in <em>home.app.js</em>.</p>
<p><a href="/docs/ecosystem-react.html">single-spa-react</a> provides the generic React lifecycle hooks for registering a singe-spa application, which we'll import as <code>singleSpaReact</code>.</p>
<p><code>singleSpaReact</code> requires 4 parameters: the instance of React, the instance of ReactDOM, the rootComponent to be rendered (in this case, the <code>Home</code> component), and a <code>domElementGetter</code> function that return a DOMElement where the Home application will be bootstrapped, mounted, and unmounted by single-spa.</p>
<p class="filename">home.app.js</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> ReactDOM <span class="hljs-keyword">from</span> <span class="hljs-string">'react-dom'</span>;
<span class="hljs-keyword">import</span> singleSpaReact <span class="hljs-keyword">from</span> <span class="hljs-string">'single-spa-react'</span>;
<span class="hljs-keyword">import</span> Home <span class="hljs-keyword">from</span> <span class="hljs-string">'./root.component.js'</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">domElementGetter</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"home"</span>)
}

<span class="hljs-keyword">const</span> reactLifecycles = singleSpaReact({
  React,
  ReactDOM,
  <span class="hljs-attr">rootComponent</span>: Home,
  domElementGetter,
})

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> bootstrap = [
  reactLifecycles.bootstrap,
];

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> mount = [
  reactLifecycles.mount,
];

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> unmount = [
  reactLifecycles.unmount,
];
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="4c-build-the-react-app"></a><a href="#4c-build-the-react-app" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4.c Build the React app</h3>
<p>Now that we have the <strong>home</strong> application registered, let us build the React app. We've reproduced the code from <a href="https://reacttraining.com/react-router/web/example/animated-transitions">react-router's Animated Transitions</a> below with two modifications, which are highlighted below. The first change is to add <code>/home</code> as the basename prop for <code>Router</code>, since in <a href="/docs/starting-from-scratch.html#step-three-registering-an-app">Step 3</a> we had configured this application to handle routing at the <code>/home</code> path. The second change is to the top-most div's styles so that <strong>home</strong> appears beneath the <strong>navBar</strong> that we'll create later.</p>
<p class="filename">root.component.js</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> { TransitionGroup, CSSTransition } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-transition-group"</span>;
<span class="hljs-keyword">import</span> {
  BrowserRouter <span class="hljs-keyword">as</span> Router,
  Switch,
  Route,
  Link,
  Redirect
} <span class="hljs-keyword">from</span> <span class="hljs-string">"react-router-dom"</span>;

<span class="hljs-comment">/* you'll need this CSS somewhere
.fade-enter {
  opacity: 0;
  z-index: 1;
}

.fade-enter.fade-enter-active {
  opacity: 1;
  transition: opacity 250ms ease-in;
}
*/</span>

<span class="hljs-keyword">const</span> AnimationExample = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> (
<span class="highlighted-line">  &lt;Router basename="/home"&gt;</span>    &lt;Route
      render={({ location }) =&gt; (
<span class="highlighted-line">        &lt;div style={{position: 'relative', height: '100%'}}&gt;</span>          &lt;Route
            exact
            path="/"
            render={() =&gt; &lt;Redirect to="/hsl/10/90/50" /&gt;}
          /&gt;

          &lt;ul style={styles.nav}&gt;
            &lt;NavLink to="/hsl/10/90/50"&gt;Red&lt;/NavLink&gt;
            &lt;NavLink to="/hsl/120/100/40"&gt;Green&lt;/NavLink&gt;
            &lt;NavLink to="/rgb/33/150/243"&gt;Blue&lt;/NavLink&gt;
            &lt;NavLink to="/rgb/240/98/146"&gt;Pink&lt;/NavLink&gt;
          &lt;/ul&gt;

          &lt;div style={styles.content}&gt;
            &lt;TransitionGroup&gt;
              {/* no different than other usage of
                CSSTransition, just make sure to pass
                `location` to `Switch` so it can match
                the old location as it animates out
              */}
              &lt;CSSTransition key={location.key} classNames="fade" timeout={300}&gt;
                &lt;Switch location={location}&gt;
                  &lt;Route exact path="/hsl/:h/:s/:l" component={HSL} /&gt;
                  &lt;Route exact path="/rgb/:r/:g/:b" component={RGB} /&gt;
                  {/* Without this `Route`, we would get errors during
                    the initial transition from `/` to `/hsl/10/90/50`
                  */}
                  &lt;Route render={() =&gt; &lt;div&gt;Not Found&lt;/div&gt;} /&gt;
                &lt;/Switch&gt;
              &lt;/CSSTransition&gt;
            &lt;/TransitionGroup&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      )}
    /&gt;
  &lt;/Router&gt;
);

const NavLink = props =&gt; (
  &lt;li style={styles.navItem}&gt;
    &lt;Link {...props} style={{ color: "inherit" }} /&gt;
  &lt;/li&gt;
);

const HSL = ({ match: { params } }) =&gt; (
  &lt;div
    style={{
      ...styles.fill,
      ...styles.hsl,
      background: `hsl(${params.h}, ${params.s}%, ${params.l}%)`
    }}
  &gt;
    hsl({params.h}, {params.s}%, {params.l}%)
  &lt;/div&gt;
);

const RGB = ({ match: { params } }) =&gt; (
  &lt;div
    style={{
      ...styles.fill,
      ...styles.rgb,
      background: `rgb(${params.r}, ${params.g}, ${params.b})`
    }}
  &gt;
    rgb({params.r}, {params.g}, {params.b})
  &lt;/div&gt;
);

const styles = {};

styles.fill = {
  position: "absolute",
  left: 0,
  right: 0,
  top: 0,
  bottom: 0
};

styles.content = {
  ...styles.fill,
  top: "40px",
  textAlign: "center"
};

styles.nav = {
  padding: 0,
  margin: 0,
  position: "absolute",
  top: 0,
  height: "40px",
  width: "100%",
  display: "flex"
};

styles.navItem = {
  textAlign: "center",
  flex: 1,
  listStyleType: "none",
  padding: "10px"
};

styles.hsl = {
  ...styles.fill,
  color: "white",
  paddingTop: "20px",
  fontSize: "30px"
};

styles.rgb = {
  ...styles.fill,
  color: "white",
  paddingTop: "20px",
  fontSize: "30px"
};

export default AnimationExample;</code></pre><h3><a class="anchor" aria-hidden="true" id="4d-define-the-loading-function"></a><a href="#4d-define-the-loading-function" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4.d Define the loading function</h3>
<p>We will now define the <a href="/docs/configuration.html#loading-function">loading function</a> for <strong>home</strong> in <em>single-spa.config.js</em>.</p>
<p>One way of doing this is by simply passing in an <em>application config object</em> (the <code>reactLifecycles</code> functions we built in <a href="/docs/starting-from-scratch.html#b-application-lifecycles">Step 4.b</a> are an example of this) directly to the <code>registerApplication</code> function.</p>
<p>However, to encourage best practices, we will leverage <a href="https://webpack.js.org/guides/code-splitting/">code splitting using Webpack</a> to easily lazy-load registered applications on-demand. Think about your project's needs when deciding which route to take.</p>
<p class="filename">single-spa.config.js</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> {registerApplication, start} <span class="hljs-keyword">from</span> <span class="hljs-string">'single-spa'</span>

registerApplication(
  <span class="hljs-comment">// Name of our single-spa application</span>
  <span class="hljs-string">'home'</span>,
  <span class="hljs-comment">// Our loading function</span>
<span class="highlighted-line">  () =&gt; <span class="hljs-keyword">import</span>(<span class="hljs-string">'./src/home/home.app.js'</span>),</span>  <span class="hljs-comment">// Our activity function</span>
  () =&gt; location.pathname === <span class="hljs-string">""</span> || 
    location.pathname === <span class="hljs-string">"/"</span> || 
    location.pathname.startsWith(<span class="hljs-string">'/home'</span>)
);

start()</code></pre><p>We are now ready to test out our first application.</p>
<p>Run <code>yarn start</code> in the root directory to start up the <code>webpack-dev-server</code>.</p>
<h2><a class="anchor" aria-hidden="true" id="5-create-the-navbar-application"></a><a href="#5-create-the-navbar-application" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5. Create the navBar application</h2>
<p>Creating and registering our <strong>navBar</strong> application will be very similar to the process we used to create our <strong>home</strong> application. The main difference is that <strong>navBar</strong> will export as an object with lifecycle methods and use <a href="https://webpack.js.org/guides/code-splitting/#dynamic-imports">dynamic imports</a> (a Webpack 2+ feature) to obtain the application object.</p>
<blockquote>
<p>You may wish to revisit <a href="/docs/starting-from-scratch.html#3-registering-applications">Step 3</a> for a more detailed explanation on how to register an application.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="5a-register-navbar"></a><a href="#5a-register-navbar" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5.a Register navBar</h3>
<p>Just as before, register the <strong>navBar</strong> application using the <code>registerApplication</code> in <em>single-spa.config.js</em>. Two items should be called out here:</p>
<ul>
<li>Notice that we are using <code>.then()</code> after our import in the loadingFunction. This is because this application is returning an application config object, and we access the actual <strong>navBar</strong> application as a property and return it.</li>
<li>Recall that the activityFunction should return a truthy value when the application should be active. Since we want our <strong>navBar</strong> to be always be displayed, regardless of any other displayed applications, we define a function that will always return <code>true</code>.</li>
</ul>
<p class="filename">single-spa.config.js</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> {registerApplication, start} <span class="hljs-keyword">from</span> <span class="hljs-string">'single-spa'</span>

<span class="highlighted-line">registerApplication(</span><span class="highlighted-line">  <span class="hljs-string">'navBar'</span>, </span><span class="highlighted-line">  () =&gt; <span class="hljs-keyword">import</span>(<span class="hljs-string">'./src/navBar/navBar.app.js'</span>).then(<span class="hljs-function"><span class="hljs-params">module</span> =&gt;</span> <span class="hljs-built_in">module</span>.navBar),</span><span class="highlighted-line">  () =&gt; <span class="hljs-literal">true</span></span><span class="highlighted-line">);</span>
...</code></pre><blockquote>
<p><strong>Hint</strong></p>
<p>Don't forget to define a corresponding mount point for <em>every newly registered application</em> in your root html file. We did this already in <a href="/docs/starting-from-scratch.html#2a-create-indexhtml">Step 2.a</a> so just remember to do so for each new application in the future.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="5b-setup-navbar"></a><a href="#5b-setup-navbar" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5.b Setup NavBar</h3>
<p>Now that we have registered our application, let's create a new <em>navBar/</em> folder in the <em>src/</em> directory to contain <em>navBar.app.js</em> and <em>root.component.js</em> files.</p>
<p>From the root directory:</p>
<pre><code class="hljs css language-sh">mkdir src/navBar
touch src/navBar/navBar.app.js src/navBar/root.component.js
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="5c-define-navbar-application-lifecycles"></a><a href="#5c-define-navbar-application-lifecycles" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5.c Define NavBar application lifecycles</h3>
<p>In <em>navbar.app.js</em> add the following application lifecycles. This is slightly different from how we accomplished this in <a href="/docs/starting-from-scratch.html#b-application-lifecycles">Step 4.b</a>. For this application we are going to demonstrate how you can export an object which contains the required lifecycle methods using <code>single-spa-react</code>.</p>
<p class="filename">navbar.app.js</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> ReactDOM <span class="hljs-keyword">from</span> <span class="hljs-string">'react-dom'</span>;
<span class="hljs-keyword">import</span> singleSpaReact <span class="hljs-keyword">from</span> <span class="hljs-string">'single-spa-react'</span>;
<span class="hljs-keyword">import</span> NavBar <span class="hljs-keyword">from</span> <span class="hljs-string">'./root.component.js'</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">domElementGetter</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"navBar"</span>)
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> navBar = singleSpaReact({
  React,
  ReactDOM,
  <span class="hljs-attr">rootComponent</span>: NavBar,
  domElementGetter,
})
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="5d-build-the-navbar"></a><a href="#5d-build-the-navbar" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5.d Build the navBar</h3>
<p>Recall that Materialize is included so we can use the class names it provides inside of the <strong>navBar</strong> component. Include the following in <em>root.component.js</em>:</p>
<p class="filename">root.component.js</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>

<span class="hljs-keyword">const</span> NavBar = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">nav</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"nav-wrapper"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"brand-logo"</span>&gt;</span>single-spa<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"nav-mobile"</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"right hide-on-med-and-down"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span>&gt;</span>AngularJS<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span></span>
)

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> NavBar
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="5e-set-up-navigation"></a><a href="#5e-set-up-navigation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5.e Set up navigation</h3>
<p>With single-spa, there are a number of options that will allow us to navigate between our separate SPAs. single-spa provides <a href="/docs/api.html#navigatetourl"><code>navigateToUrl</code></a>, a utility function that allows for easy url navigation between registered applications.</p>
<blockquote>
<p>An alternative method would be to call <code>pushState()</code>, which <code>navigateToUrl</code> does internally. This method could be used in conjunction with other client-side libraries but there are some <a href="https://github.com/CanopyTax/single-spa-examples/issues/54#issuecomment-424384123">additional considerations when using <code>pushState</code></a>.</p>
</blockquote>
<p>To use the function, we simply need to import it and call it with a click event, passing in each application's url (as designated by the activityFunction set in <em>single-spa.config.js</em>) as a string to the anchor tag's <code>href</code>.</p>
<p class="filename">root.component.js</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="highlighted-line"><span class="hljs-keyword">import</span> {navigateToUrl} <span class="hljs-keyword">from</span> <span class="hljs-string">'single-spa'</span></span>
<span class="hljs-keyword">const</span> NavBar = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">nav</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"nav-wrapper"</span>&gt;</span>
<span class="highlighted-line">      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/"</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{navigateToUrl}</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"brand-logo"</span>&gt;</span>single-spa<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span>      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"nav-mobile"</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"right hide-on-med-and-down"</span>&gt;</span>
<span class="highlighted-line">        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/"</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{navigateToUrl}</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><span class="highlighted-line">        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/angularJS"</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{navigateToUrl}</span>&gt;</span>AngularJS<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span>      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span></span>
)

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> NavBar</code></pre><blockquote>
<p><strong>Note</strong></p>
<p>We have yet to build the AngularJS application that corresponds to the <code>/angularJS</code> URL so navigating to it at this point will fail.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="6-create-the-angularjs-application"></a><a href="#6-create-the-angularjs-application" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6. Create the angularJS application</h2>
<h3><a class="anchor" aria-hidden="true" id="6a-setup-angularjs"></a><a href="#6a-setup-angularjs" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6.a Setup angularJS</h3>
<p>Create a new folder in the src directory to contain the <strong>angularJS</strong> application files. There are quite a few to create.</p>
<pre><code class="hljs css language-bash">mkdir src/angularJS
<span class="hljs-built_in">cd</span> src/angularJS
touch angularJS.app.js root.component.js root.template.html routes.js app.module.js gifs.component.js gifs.template.html
</code></pre>
<p>To demonstrate the ability to use client-side routing within applications, our AngularJS application will make use of <code>angular-ui-router</code>.</p>
<p>Using your package manager, add <code>angular</code>, <code>angular-ui-router</code>, and <a href="/docs/ecosystem-angularjs.html"><code>single-spa-angularjs</code></a> (the single-spa AngularJS helper) as dependencies, like so:</p>
<pre><code class="hljs css language-sh">yarn add angular angular-ui-router single-spa-angularjs
</code></pre>
<blockquote>
<p>Within the <a href="/docs/ecosystem.html">single-spa ecosystem</a> there is a growing number of projects that help you bootstrap, mount, and unmount your applications that are written with popular frameworks.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="6b-register-angularjs-as-an-application"></a><a href="#6b-register-angularjs-as-an-application" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6.b Register angularJS as an application</h3>
<p>Just as we did for the <strong>home</strong> and <strong>navBar</strong> applications, we start by registering the <strong>angularJS</strong> application in <em>single-spa.config.js</em>. Add the following:</p>
<p class="filename">single-spa.config.js</p>
<pre><code class="hljs css language-js">registerApplication(
  <span class="hljs-string">'angularJS'</span>, 
  () =&gt; <span class="hljs-keyword">import</span> (<span class="hljs-string">'./src/angularJS/angularJS.app.js'</span>), 
  () =&gt; {}
);
</code></pre>
<p>Hard-coding the activityFunction begins to get tedious so let us add a function that will simplify the matching logic for our application configuration. To do this, we've created a function that takes a string that represents the path prefix and returns a function that accepts <code>location</code> and matches whether the <code>location</code> starts with the path prefix.</p>
<p class="filename">single-spa.config.js</p>
<pre><code class="hljs css language-js">...

<span class="highlighted-line">function pathPrefix(prefix) {</span><span class="highlighted-line">    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">location</span>) </span>{</span><span class="highlighted-line">        <span class="hljs-keyword">return</span> location.pathname.startsWith(prefix);</span><span class="highlighted-line">    }</span><span class="highlighted-line">}</span>
registerApplication(
  <span class="hljs-string">'angularJS'</span>, 
  () =&gt; <span class="hljs-keyword">import</span> (<span class="hljs-string">'./src/angularJS/angularJS.app.js'</span>), 
<span class="highlighted-line">  pathPrefix(<span class="hljs-string">'/angularJS'</span>)</span>));

start();</code></pre><h3><a class="anchor" aria-hidden="true" id="6c-set-up-application-lifecycles"></a><a href="#6c-set-up-application-lifecycles" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6.c Set up Application Lifecycles</h3>
<p>single-spa-angularjs another helper library that implements the necessary lifecycle hooks, which simplifies the configuration. Learn more about the <a href="/docs/ecosystem-angularjs.html#options">single-spa-angularjs options</a>.</p>
<p>Just as we did for our <strong>home</strong> and <strong>navBar</strong> applications, set up the lifecycle hooks for the <strong>angularJS</strong> in the <em>angularJS.app.js</em> file.</p>
<p class="filename">angularJS.app.js</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> singleSpaAngularJS <span class="hljs-keyword">from</span> <span class="hljs-string">'single-spa-angularjs'</span>;
<span class="hljs-keyword">import</span> angular <span class="hljs-keyword">from</span> <span class="hljs-string">'angular'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'./app.module.js'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'./routes.js'</span>;

<span class="hljs-keyword">const</span> domElementGetter = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'angularJS'</span>);

<span class="hljs-keyword">const</span> angularLifecycles = singleSpaAngularJS({
  angular,
  domElementGetter,
  <span class="hljs-attr">mainAngularModule</span>: <span class="hljs-string">'angularJS-app'</span>,
  <span class="hljs-attr">uiRouter</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">preserveGlobal</span>: <span class="hljs-literal">false</span>,
})

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> bootstrap = [
  angularLifecycles.bootstrap,
];

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> mount = [
  angularLifecycles.mount,
];

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> unmount = [
  angularLifecycles.unmount,
];
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="6d-set-up-the-angularjs-application"></a><a href="#6d-set-up-the-angularjs-application" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6.d Set up the AngularJS application</h3>
<p>Now that we have registered our application and set up the lifecycle methods pointing to our main Angular module, we can begin to flesh out the application.</p>
<p>To start, we will build <em>app.module.js</em> followed by <em>root.component.js</em> which will set the root of the <strong>angularJS</strong> application using <em>root.template.html</em> as the template.</p>
<p class="filename">app.module.js</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> angular <span class="hljs-keyword">from</span> <span class="hljs-string">'angular'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'angular-ui-router'</span>;

angular
.module(<span class="hljs-string">'angularJS-app'</span>, [<span class="hljs-string">'ui.router'</span>]);
</code></pre>
<p class="filename">root.component.js</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> angular <span class="hljs-keyword">from</span> <span class="hljs-string">'angular'</span>;
<span class="hljs-keyword">import</span> template <span class="hljs-keyword">from</span> <span class="hljs-string">'./root.template.html'</span>;

angular
.module(<span class="hljs-string">'angularJS-app'</span>)
.component(<span class="hljs-string">'root'</span>, {
  template,
})
</code></pre>
<p class="filename">root.template.html</p>
<pre><code class="hljs css language-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ng-style</span>=<span class="hljs-string">'vm.styles'</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"row"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h4</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"light"</span>&gt;</span>
        Angular 1 example
      <span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"caption"</span>&gt;</span>
        This is a sample application written with Angular 1.5 and angular-ui-router.
      <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- These Routes will be set up in the routes.js file --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"waves-effect waves-light btn-large"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/angularJS/gifs"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"margin-right: 10px"</span>&gt;</span>
        Show me cat gifs
      <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"waves-effect waves-light btn-large"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/angularJS"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"margin-right: 10px"</span>&gt;</span>
        Take me home
      <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"row"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ui-view</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>Next we will add a basic Gif Component and import it in the root component.</p>
<p class="filename">gifs.component.js</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> angular <span class="hljs-keyword">from</span> <span class="hljs-string">'angular'</span>;
<span class="hljs-keyword">import</span> template <span class="hljs-keyword">from</span> <span class="hljs-string">'./gifs.template.html'</span>;

angular
  .module(<span class="hljs-string">'angularJS-app'</span>)
  .component(<span class="hljs-string">'gifs'</span>, {
    template,
    <span class="hljs-attr">controllerAs</span>: <span class="hljs-string">'vm'</span>,
    controller($http) {
      <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">this</span>;

      $http
        .get(<span class="hljs-string">'https://api.giphy.com/v1/gifs/search?q=cat&amp;api_key=dc6zaTOxFJmzC'</span>)
        .then(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> {
          vm.gifs = response.data.data;
        })
        .catch(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> {
          setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
            <span class="hljs-keyword">throw</span> err;
          }, <span class="hljs-number">0</span>)
        });
    },
  });
</code></pre>
<p class="filename">gif.template.html</p>
<pre><code class="hljs css language-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"padding-top: 20px"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h4</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"light"</span>&gt;</span>
    Cat Gifs gifs
  <span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ng-repeat</span>=<span class="hljs-string">"gif in vm.gifs"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"margin: 5px;"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">ng-src</span>=<span class="hljs-string">"{{gif.images.downsized_medium.url}}"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"col l3"</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="6e-set-up-in-app-routing"></a><a href="#6e-set-up-in-app-routing" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6.e Set up in-app routing</h3>
<p>Now that we have each of our components built out, all we have left to do is connect them. We will do this by importing both into <em>routes.js</em>.</p>
<p class="filename">routes.js</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> angular <span class="hljs-keyword">from</span> <span class="hljs-string">'angular'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'./root.component.js'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'./gifs.component.js'</span>;

angular
.module(<span class="hljs-string">'angularJS-app'</span>)
.config(<span class="hljs-function">(<span class="hljs-params">$stateProvider, $locationProvider</span>) =&gt;</span> {

  $locationProvider.html5Mode({
    <span class="hljs-attr">enabled</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">requireBase</span>: <span class="hljs-literal">false</span>,
  });

  $stateProvider
    .state(<span class="hljs-string">'root'</span>, {
      <span class="hljs-attr">url</span>: <span class="hljs-string">'/angularJS'</span>,
      <span class="hljs-attr">template</span>: <span class="hljs-string">'&lt;root /&gt;'</span>,
    })

    .state(<span class="hljs-string">'root.gifs'</span>, {
      <span class="hljs-attr">url</span>: <span class="hljs-string">'/gifs'</span>,
      <span class="hljs-attr">template</span>: <span class="hljs-string">'&lt;gifs /&gt;'</span>,
    })
});
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="finished"></a><a href="#finished" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Finished!</h2>
<p>From the root directory run <code>yarn start</code> to check out your new single-spa project.</p>
<p>We hope this tutorial gives you experience building and implementing micro frontends using single-spa. Review this guide periodically and use it as a reference in your projects. If you still have questions about how to use single-spa with your specific build, check out the migration tutorials: for <a href="/docs/migrating-angularJS-tutorial.html">AngularJS</a> and <a href="/docs/migrating-react-tutorial.html">React</a>.</p>
<p>As always, there is more to be learned. If you want to learn how to use single-spa with Angular, Vue, or other frameworks, checkout the <a href="https://github.com/CanopyTax/single-spa-examples"><code>single-spa-examples</code></a> repo.
If you prefer a different build system other tha Webpack, check out the <a href="https://github.com/me-12/single-spa-portal-example"><code>single-spa-portal-example</code></a>  repo.
Lastly, you may also want to study how to <a href="/docs/separating-applications.html">separate applications</a> using single-spa.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/getting-started-overview.html"><span class="arrow-prev">← </span><span>Overview</span></a><a class="docs-next button" href="/docs/migrating-react-tutorial.html"><span>React - Migrating to single-spa</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#1-initial-setup">1. Initial setup</a><ul class="toc-headings"><li><a href="#1a-setup-babel">1.a Setup Babel</a></li><li><a href="#1b-setup-webpack">1.b Setup Webpack</a></li><li><a href="#1c-add-npm-scripts">1.c Add npm scripts</a></li></ul></li><li><a href="#2-create-the-html-file">2. Create the html file</a><ul class="toc-headings"><li><a href="#2a-create-indexhtml">2.a Create <em>index.html</em></a></li><li><a href="#2b-include-scripts-and-stylesheets">2.b Include scripts and stylesheets</a></li></ul></li><li><a href="#3-registering-applications">3. Registering applications</a></li><li><a href="#4-create-the-home-application">4. Create the home application</a><ul class="toc-headings"><li><a href="#4a-setup-home">4.a Setup home</a></li><li><a href="#4b-define-home-application-lifecycles">4.b Define home application lifecycles</a></li><li><a href="#4c-build-the-react-app">4.c Build the React app</a></li><li><a href="#4d-define-the-loading-function">4.d Define the loading function</a></li></ul></li><li><a href="#5-create-the-navbar-application">5. Create the navBar application</a><ul class="toc-headings"><li><a href="#5a-register-navbar">5.a Register navBar</a></li><li><a href="#5b-setup-navbar">5.b Setup NavBar</a></li><li><a href="#5c-define-navbar-application-lifecycles">5.c Define NavBar application lifecycles</a></li><li><a href="#5d-build-the-navbar">5.d Build the navBar</a></li><li><a href="#5e-set-up-navigation">5.e Set up navigation</a></li></ul></li><li><a href="#6-create-the-angularjs-application">6. Create the angularJS application</a><ul class="toc-headings"><li><a href="#6a-setup-angularjs">6.a Setup angularJS</a></li><li><a href="#6b-register-angularjs-as-an-application">6.b Register angularJS as an application</a></li><li><a href="#6c-set-up-application-lifecycles">6.c Set up Application Lifecycles</a></li><li><a href="#6d-set-up-the-angularjs-application">6.d Set up the AngularJS application</a></li><li><a href="#6e-set-up-in-app-routing">6.e Set up in-app routing</a></li></ul></li><li><a href="#finished">Finished!</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/logo-white-bgblue.svg" alt="single-spa" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/en/getting-started-overview.html">Getting Started</a><a href="/docs/en/examples.html">Examples</a><a href="/docs/en/api.html">API Reference</a><a href="/docs/en/contributing-overview.html">Contribution Guide</a></div><div><h5>Community</h5><a href="/en/users.html">User Showcase</a><a href="/en/contributors.html">Contributors</a><a href="http://stackoverflow.com/questions/tagged/single-spa" target="_blank" rel="noopener">Stack Overflow</a><a href="https://join.slack.com/t/single-spa/shared_invite/enQtMzIwMTcxNTU3ODQyLTM1Y2U1OWMzNTNjOWYyZDBlMDJhN2VkYzk3MDI2NzQ2Nzg0MzMzNjVhNWE2YjVhMTcxNjFkOWYzMjllMmUxMjk" target="_blank" rel="noopener">Chat in Slack</a><a href="https://twitter.com/Single_spa/" target="_blank" rel="noopener">Twitter</a></div><div><h5>More</h5><a href="/blog">Blog</a><a href="https://github.com/CanopyTax/single-spa">GitHub</a><a class="github-button" href="https://github.com/CanopyTax/single-spa" target="_blank" rel="noopener" data-icon="octicon-star" data-count-href="/CanopyTax/single-spa/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://www.canopytax.com/" target="_blank" rel="noopener" class="cpOpenSource"><img src="/img/canopy-logo-icon.svg" alt="CanopyTax Open Source" height="45"/></a><section class="copyright">© 2019 CanopyTax</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '113e711177d63ab1ff28ef858cbcffa5',
                indexName: 'single_spa',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>