<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Migrating an Existing React Project · single-spa</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;p&gt;single-spa allows you to build micro frontends that coexist and can each be written with their own framework. This will allow you and your team to:&lt;/p&gt;
"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Migrating an Existing React Project · single-spa"/><meta property="og:type" content="website"/><meta property="og:url" content="https://canopytax.github.io/single-spa.js.org/index.html"/><meta property="og:description" content="&lt;p&gt;single-spa allows you to build micro frontends that coexist and can each be written with their own framework. This will allow you and your team to:&lt;/p&gt;
"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/logo-blue-favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://canopytax.github.io/single-spa.js.org/blog/atom.xml" title="single-spa Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://canopytax.github.io/single-spa.js.org/blog/feed.xml" title="single-spa Blog RSS Feed"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-121119786-1', 'auto');
              ga('send', 'pageview');
            </script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/js/index.js"></script><script type="text/javascript" src="/js/code-copy-to-clipboard.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/logo-white-bgblue.svg" alt="single-spa"/><h2 class="headerTitleWithLogo">single-spa</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/getting-started-overview.html" target="_self">Docs</a></li><li class=""><a href="/help.html" target="_self">Help</a></li><li class=""><a href="/blog/" target="_self">Blog</a></li><li class=""><a href="https://github.com/CanopyTax/single-spa" target="_self">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Getting Started</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Getting Started</h3><ul><li class="navListItem"><a class="navItem" href="/docs/getting-started-overview.html">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/starting-from-scratch.html">Starting from scratch</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/migrating-react-tutorial.html">React - Migrating to single-spa</a></li><li class="navListItem"><a class="navItem" href="/docs/migrating-angularJS-tutorial.html">AngularJS - Migrating to single-spa</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">single-spa Applications</h3><ul><li class="navListItem"><a class="navItem" href="/docs/building-applications.html">Building</a></li><li class="navListItem"><a class="navItem" href="/docs/configuration.html">Configuration</a></li><li class="navListItem"><a class="navItem" href="/docs/separating-applications.html">Separating</a></li><li class="navListItem"><a class="navItem" href="/docs/migrating-existing-spas.html">Migrating</a></li><li class="navListItem"><a class="navItem" href="/docs/api.html">API</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">single-spa Parcels</h3><ul><li class="navListItem"><a class="navItem" href="/docs/parcels-overview.html">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/parcels-api.html">API</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Examples</h3><ul><li class="navListItem"><a class="navItem" href="/docs/examples.html">Resources</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Ecosystem</h3><ul><li class="navListItem"><a class="navItem" href="/docs/ecosystem.html">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-angularjs.html">AngularJS</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-angular.html">Angular</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-angular-cli.html">Angular-Cli</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-cycle.html">Cycle</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-ember.html">Ember</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-inferno.html">Inferno</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-preact.html">Preact</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-react.html">React</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-svelte.html">svelte</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-vue.html">Vue</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Contributing</h3><ul><li class="navListItem"><a class="navItem" href="/docs/contributing-overview.html">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/code-of-conduct.html">Code of Conduct</a></li></ul></div></div></section></div><script>
            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/CanopyTax/single-spa.js.org/blob/master/docs/migrating-react-tutorial.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 class="postHeaderTitle">Migrating an Existing React Project</h1></header><article><div><span><p>single-spa allows you to build micro frontends that coexist and can each be written with their own framework. This will allow you and your team to:</p>
<ol>
<li>Use multiple frameworks on the same page. <a href="/docs/ecosystem.html#docsNav">see the single-spa ecosystem for more info</a></li>
<li>Write code using a new framework, without rewriting your existing application</li>
<li><a href="https://en.wikipedia.org/wiki/Lazy_loading">Lazy load</a> code for improved initial load time.</li>
</ol>
<p>Single-spa can be used with just about any build system or javascript framework, but this tutorial will focus on taking existing React application and converting it into a single-spa web application.</p>
<p>If you'd like to learn how to build a single-spa web application from scratch, check out <a href="/docs/starting-from-scratch.html">this tutorial</a>.</p>
<p>If you'd like to learn how to use single-spa with Angular, Vue, or other frameworks, <a href="/docs/examples.html">checkout these examples</a>.</p>
<p>Be sure to read through the <a href="https://single-spa.js.org/">single-spa docs</a>, check the <a href="https://github.com/CanopyTax/single-spa">single-spa github</a> and the <a href="https://single-spa.js.org/help.html">help section</a> for more support.</p>
<h2><a class="anchor" aria-hidden="true" id="project-setup"></a><a href="#project-setup" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Project Setup</h2>
<p>You can find the code needed to follow along <a href="https://github.com/alocke12992/migrating-to-single-spa-react-starter">here</a>. You can find the completed <a href="https://github.com/alocke12992/migrating-to-single-spa-react">code for this tutorial here</a>.</p>
<p>Get started by cloning the starter pack, moving into the project and initializing the package manager of your choice so we can install the single-spa library. For this tutorial, we will be using <a href="https://yarnpkg.com/en/">yarn</a>.</p>
<pre><code class="hljs css language-bash">git <span class="hljs-built_in">clone</span> git@github.com:alocke12992/migrating-to-single-spa-react-starter.git
<span class="hljs-built_in">cd</span> migrating-to-single-spa-react-starter
yarn  <span class="hljs-comment"># or npm install</span>
yarn add single-spa <span class="hljs-comment"># or npm install --save single-spa</span>
</code></pre>
<p>Run <code>yarn start</code> from the root directory to fire up the server at <code>http://localhost:3000</code>.</p>
<h2><a class="anchor" aria-hidden="true" id="step-one-set-up-the-single-spa-config"></a><a href="#step-one-set-up-the-single-spa-config" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step One: Set up the single-spa config</h2>
<p>The single spa config consists of all code that is not part of a <a href="/docs/configuration.html#registeringapplications">registered application</a>. Ideally, this only includes an html file and a javascript file that registers single-spa applications. It is best practice to keep your single spa config as small as possible and to simply defer to single-spa to manage all of the applications.</p>
<p>Usually, when using <a href="https://webpack.js.org/">webpack</a> with React, we recommend setting your <code>single-spa config</code> as the entry point in your <code>webpack.config.js</code> (<a href="/docs/starting-from-scratch.html#b-setup-webpack">see this example</a>). However, this application was built using <a href="https://github.com/facebook/create-react-app">create-react-app</a>, so we don't have access to the <code>webpack.config.js</code> without using <a href="https://github.com/facebook/create-react-app/blob/master/packages/react-scripts/template/README.md#npm-run-eject">eject</a>.</p>
<p>To avoid having to <code>eject</code>, we are going to hijack the current entry point, <code>src/index.js</code>, so we can use it to register our SPA as a single-spa application.</p>
<p>Start by removing everything except <code>registerServiceWorker</code>.</p>
<p><code>src/index.js</code> should look like this:</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// src/index.js</span>
<span class="hljs-keyword">import</span> registerServiceWorker <span class="hljs-keyword">from</span> <span class="hljs-string">'./registerServiceWorker'</span>;

registerServiceWorker();
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="step-two-register-the-application"></a><a href="#step-two-register-the-application" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step Two: Register the Application</h2>
<p>Now that we have prepared <code>index.js</code> to function as our <code>single-spa config</code>, we can begin to register the application. It is required to <a href="https://single-spa.js.org/docs/configuration.html#registering-applications">register applications</a> with single-spa. This enables single-spa to know how and when to bootstrap, mount and unmount an application.</p>
<p>In order to register an application with single-spa we call the <code>registerApplication()</code> api and include the application <a href="/docs/configuration.html#application-name">name</a>, a <a href="/docs/configuration.html#loading-function-or-application">loadingFunction</a> and an <a href="/docs/configuration.html#activity-function">activityFunction</a>.</p>
<p>Finally, the <a href="/docs/api.html#start">start()</a> api <strong>must</strong> be called by your <code>single spa config</code> in order for applications to actually be mounted. Before <code>start()</code> is called, applications will be loaded, but not bootstrapped/mounted/unmounted.</p>
<p>In <code>src/index.js</code>, start by importing the <code>registerApplication</code> and <code>start</code> functions:</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// src/index.js</span>
<span class="hljs-keyword">import</span> registerServiceWorker <span class="hljs-keyword">from</span> <span class="hljs-string">'./registerServiceWorker'</span>;
<span class="hljs-keyword">import</span> {registerApplication, start} <span class="hljs-keyword">from</span> <span class="hljs-string">'single-spa'</span>;

registerServiceWorker();
</code></pre>
<p>With our functions imported, we can now register an application with single-spa and call <code>start()</code>:</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// src/index.js</span>
<span class="hljs-keyword">import</span> registerServiceWorker <span class="hljs-keyword">from</span> <span class="hljs-string">'./registerServiceWorker'</span>;
<span class="hljs-keyword">import</span> {registerApplication, start} <span class="hljs-keyword">from</span> <span class="hljs-string">'single-spa'</span>;

registerApplication(
  <span class="hljs-comment">// Name of our single-spa application</span>
  <span class="hljs-string">'root'</span>,
  <span class="hljs-comment">// Our loading function</span>
  loadingFunction,
  <span class="hljs-comment">// Our activity function</span>
  activityFunction
);

start();
registerServiceWorker();
</code></pre>
<p>The second argument in <code>registerApplication</code>, <code>loadingFunction</code>, must be a function that returns a promise (or an <a href="https://ponyfoo.com/articles/understanding-javascript-async-await">&quot;async function&quot;</a>). The function will be called with no arguments when it's time to load the application for the first time. The returned promise must be resolved with the application. We will be creating this in the next step.</p>
<p>The third argument, <code>activityFunction</code>, must be a pure function. The function is provided <code>window.location</code> as the first argument, and returns a truthy value whenever the application should be active. In this case we have set the activity function to return true. This will set our SPA to always be mounted regardless of the location. Later, if we wanted to add other SPAs to our single-spa web application, we can change the activity function to return based on <code>location.hash.startsWith('#/someRoute')</code>. See the <a href="/docs/starting-from-scratch.html#b-register-the-application">Starting From Scratch</a> tutorial for an example of how to set up routing between multiple SPAs.</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// src/index.js</span>
<span class="hljs-keyword">import</span> registerServiceWorker <span class="hljs-keyword">from</span> <span class="hljs-string">'./registerServiceWorker'</span>;
<span class="hljs-keyword">import</span> {registerApplication, start} <span class="hljs-keyword">from</span> <span class="hljs-string">'single-spa'</span>;

registerApplication(
  <span class="hljs-comment">// Name of our single-spa application</span>
  <span class="hljs-string">'root'</span>,
  <span class="hljs-comment">// Our loading function - we will build this in Step Four</span>
  loadingFunction,
  <span class="hljs-comment">// Our activity function</span>
  () =&gt; <span class="hljs-literal">true</span>
);

start();
registerServiceWorker();
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="step-three-setup-lifecycle-functions"></a><a href="#step-three-setup-lifecycle-functions" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step Three: Setup Lifecycle Functions</h2>
<p>Since we have registered our application, single-spa will be listening for the application to <code>bootstrap</code> and <code>mount</code>. We can use the <a href="/docs/ecosystem-react.html">single-spa-react</a> helper library to make use of the generic React lifecycle hooks. See the <a href="/docs/building-applications.html#registered-application-lifecycle">registered application lifecycle</a> docs to learn more about each lifecycle function.</p>
<p>For this tutorial, we will be implementing the required lifecycle functions in a new <code>root.app.js</code> file within the <code>src</code> folder. From the root directory, run the following code to install the <code>single-spa-react</code> helper library and create the new file:</p>
<pre><code class="hljs css language-bash">yarn add single-spa-react
touch src/root.app.js
</code></pre>
<p>During this process, we need to establish a <code>rootComponent</code>, which is the top level React component to be rendered. In this case <code>src/containers/App.js</code> has already been designated as the top level component. If you recall, we removed this from the <code>index.js</code> file so we could set up our <code>single-spa config</code>.</p>
<p>Finally, we will use the <code>domElementGetter()</code> function to return a DOMElement where the application will be bootstrapped, mounted, and unmounted. Notice that our SPA already has an html file in the <code>public</code> folder containing a <code>&lt;div /&gt;</code> with and id of <code>root</code>.</p>
<p>Set up the registered application lifecycle functions by adding the following to <code>src/root.app.js</code>:</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// src/root.app.js</span>
<span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> ReactDOM <span class="hljs-keyword">from</span> <span class="hljs-string">'react-dom'</span>;
<span class="hljs-keyword">import</span> singleSpaReact <span class="hljs-keyword">from</span> <span class="hljs-string">'single-spa-react'</span>;
<span class="hljs-comment">// The top level React Component</span>
<span class="hljs-keyword">import</span> App <span class="hljs-keyword">from</span> <span class="hljs-string">'./containers/App.js'</span>;

<span class="hljs-keyword">const</span> reactLifecycles = singleSpaReact({
  React,
  ReactDOM,
  <span class="hljs-attr">rootComponent</span>: App,
  domElementGetter,
});

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> bootstrap = [
  reactLifecycles.bootstrap,
];

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> mount = [
  reactLifecycles.mount,
];

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> unmount = [
  reactLifecycles.unmount,
];
<span class="hljs-comment">// Establishes where single-spa will mount our application  </span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">domElementGetter</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"root"</span>);
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="step-four-connect-to-single-spa-config"></a><a href="#step-four-connect-to-single-spa-config" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step Four: Connect to single-spa Config</h2>
<p>Head back to the <code>single-spa config</code>, <code>src/index.js</code>, we need to add a <a href="/docs/configuration.html#loading-function">loading function</a> for the registered SPA. It is important to note that you do not have to use a <code>loading function</code> and instead can simply pass in the application config object directly to the <code>registerApplication</code> function. However, with <a href="https://webpack.js.org/">webpack 2+</a>, we can take advantage of its support for <a href="https://webpack.js.org/guides/code-splitting/">code splitting</a> with <a href="https://webpack.js.org/api/module-methods/#import">import()</a> in order to easily lazy-load registered applications when they are needed. Think about your project's build when deciding which route to take.</p>
<p>Add the following to import <code>root.app.js</code>:</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// src/index.js</span>
<span class="hljs-keyword">import</span> registerServiceWorker <span class="hljs-keyword">from</span> <span class="hljs-string">'./registerServiceWorker'</span>;
<span class="hljs-keyword">import</span> {registerApplication, start} <span class="hljs-keyword">from</span> <span class="hljs-string">'single-spa'</span>;

registerApplication(
  <span class="hljs-comment">// Name of our single-spa application</span>
  <span class="hljs-string">'root'</span>,
  <span class="hljs-comment">// Our loading function</span>
  () =&gt; <span class="hljs-keyword">import</span>(<span class="hljs-string">'./root.app.js'</span>),
  <span class="hljs-comment">// Our activity function</span>
  () =&gt; <span class="hljs-literal">true</span>
);

start();
registerServiceWorker();
</code></pre>
<h1><a class="anchor" aria-hidden="true" id="that-s-it"></a><a href="#that-s-it" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>That's it</h1>
<p>Head back to the console and start up the server on <code>localhost:3000</code> by running <code>yarn start</code> from the root directory.</p>
<p>Inspect the page and notice that our SPA is now being rendered inside of the <code>&lt;div id=&quot;root&quot;/&gt;</code>. Technically, we are back to square one, with a fully functioning SPA. However, now that our SPA is a registered single-spa application we can take advantage of single-spa's functionality by building additional applications to mount side by side with our current React SPA.</p>
<p>Feel free to start using that new Javascript framework everyone has been talking about.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/starting-from-scratch.html"><span class="arrow-prev">← </span><span>Starting From Scratch</span></a><a class="docs-next button" href="/docs/migrating-angularJS-tutorial.html"><span class="function-name-prevnext">Migrating an Existing AngularJS Project</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#project-setup">Project Setup</a></li><li><a href="#step-one-set-up-the-single-spa-config">Step One: Set up the single-spa config</a></li><li><a href="#step-two-register-the-application">Step Two: Register the Application</a></li><li><a href="#step-three-setup-lifecycle-functions">Step Three: Setup Lifecycle Functions</a></li><li><a href="#step-four-connect-to-single-spa-config">Step Four: Connect to single-spa Config</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/logo-white-bgblue.svg" alt="single-spa" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/en/getting-started-overview.html">Getting Started</a><a href="/docs/en/examples.html">Examples</a><a href="/docs/en/api.html">API Reference</a><a href="/docs/en/contributing-overview.html">Contribution Guide</a></div><div><h5>Community</h5><a href="/en/users.html">User Showcase</a><a href="/en/contributors.html">Contributors</a><a href="http://stackoverflow.com/questions/tagged/single-spa" target="_blank" rel="noopener">Stack Overflow</a><a href="https://join.slack.com/t/single-spa/shared_invite/enQtMzIwMTcxNTU3ODQyLTM1Y2U1OWMzNTNjOWYyZDBlMDJhN2VkYzk3MDI2NzQ2Nzg0MzMzNjVhNWE2YjVhMTcxNjFkOWYzMjllMmUxMjk" target="_blank" rel="noopener">Chat in Slack</a><a href="https://twitter.com/Single_spa/" target="_blank" rel="noopener">Twitter</a></div><div><h5>More</h5><a href="/blog">Blog</a><a href="https://github.com/CanopyTax/single-spa">GitHub</a><a class="github-button" href="https://github.com/CanopyTax/single-spa" target="_blank" rel="noopener" data-icon="octicon-star" data-count-href="/CanopyTax/single-spa/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://www.canopytax.com/" target="_blank" rel="noopener" class="cpOpenSource"><img src="/img/canopy-logo-icon.svg" alt="CanopyTax Open Source" height="45"/></a><section class="copyright">© 2019 CanopyTax</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '113e711177d63ab1ff28ef858cbcffa5',
                indexName: 'single_spa',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>