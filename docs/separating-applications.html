<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Splitting up applications · single-spa</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="In a large, microserviced system, your root single-spa configuration and each of the applications should probably have its own git repository. How to do that in a javascript project isn&#x27;t necessarily clear, so some options are listed below."/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Splitting up applications · single-spa"/><meta property="og:type" content="website"/><meta property="og:url" content="https://canopytax.github.io/single-spa.js.org/index.html"/><meta property="og:description" content="In a large, microserviced system, your root single-spa configuration and each of the applications should probably have its own git repository. How to do that in a javascript project isn&#x27;t necessarily clear, so some options are listed below."/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/logo-blue-favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://canopytax.github.io/single-spa.js.org/blog/atom.xml" title="single-spa Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://canopytax.github.io/single-spa.js.org/blog/feed.xml" title="single-spa Blog RSS Feed"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-138683004-1', 'auto');
              ga('send', 'pageview');
            </script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/js/index.js"></script><script type="text/javascript" src="/js/code-copy-to-clipboard.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/logo-white-bgblue.svg" alt="single-spa"/><h2 class="headerTitleWithLogo">single-spa</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/docs/faq.html" target="_self">FAQ</a></li><li class=""><a href="/docs.html" target="_self">Docs</a></li><li class=""><a href="/help.html" target="_self">Help</a></li><li class=""><a href="/blog/" target="_self">Blog</a></li><li class=""><a href="https://opencollective.com/single-spa" target="_self">Donate</a></li><li class=""><a href="https://github.com/CanopyTax/single-spa" target="_self">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Concept: Application</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Overview</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/getting-started-overview.html">Overview of single-spa</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Tutorials</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/starting-from-scratch.html">Starting from scratch</a></li><li class="navListItem"><a class="navItem" href="/docs/migrating-react-tutorial.html">React - Migrating to single-spa</a></li><li class="navListItem"><a class="navItem" href="/docs/migrating-angularJS-tutorial.html">AngularJS - Migrating to single-spa</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Examples</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/examples.html">Resources</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Concept: Root Config</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/configuration.html">single-spa config</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Concept: Application</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/building-applications.html">single-spa applications</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/separating-applications.html">Splitting applications</a></li><li class="navListItem"><a class="navItem" href="/docs/migrating-existing-spas.html">Migrating existing code</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Concept: Parcel</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/parcels-overview.html">Overview</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">API</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/api.html">Applications API</a></li><li class="navListItem"><a class="navItem" href="/docs/parcels-api.html">Parcels API</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Ecosystem</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/ecosystem.html">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-react.html">React</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-vue.html">Vue</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-angular.html">Angular</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-angularjs.html">AngularJS</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-cycle.html">Cycle</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-ember.html">Ember</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-inferno.html">Inferno</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-preact.html">Preact</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-svelte.html">Svelte</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-riot.html">Riot</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Contributing</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/contributing-overview.html">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/code-of-conduct.html">Code of Conduct</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/CanopyTax/single-spa.js.org/blob/master/docs/separating-applications.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 class="postHeaderTitle">Splitting up applications</h1></header><article><div><span><p>In a large, microserviced system, your root single-spa configuration and each of the applications should probably have its own git repository. How to do that in a javascript project isn't necessarily clear, so some options are listed below.</p>
<p>Since single-spa is a framework that helps with organizational scaling, it is important to figure out how to split out and separate applications from each other so that developers and teams can work on the applications without interfering one another.</p>
<p>Most interpretations of microservice architecture encourage separate code repositories, builds, and deployments. Although <strong>single-spa does not solve how code is hosted, built, or deployed</strong>, these are relevant to many users of single-spa, so some strategies for doing so are discussed here.</p>
<h4><a class="anchor" aria-hidden="true" id="option-1-one-code-repo-one-build"></a><a href="#option-1-one-code-repo-one-build" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Option 1: One code repo, one build</h4>
<p>The simplest approach for using single-spa is to have one code repository with everything in it. Typically, you would have a single package.json with a single webpack config that produces a bundle that can be included in an html file with a <code>&lt;script&gt;</code> tag.</p>
<p>Advantages:</p>
<ul>
<li>Simplest to set up</li>
<li><a href="https://danluu.com/monorepo/">monolithic version control has some advantages</a></li>
</ul>
<p>Disadvantages:</p>
<ul>
<li>One master Webpack config and package.json means less flexibility and freedom for each individual project</li>
<li>Slow build times once your project gets large</li>
<li>Builds and deployments are all tied together, which can necessitate fixed release schedules instead of ad hoc releases.</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="option-2-npm-packages"></a><a href="#option-2-npm-packages" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Option 2: NPM packages</h4>
<p>Create a root application that npm installs each of the single-spa applications. Each child application is in a separate code repository and is responsible for publishing a new version everytime that it updates. The root application should reinstall, rebuild, and redeploy whenever a single-spa application changes.</p>
<p>Typically, the single-spa applications compile themselves separately with babel and/or webpack.</p>
<p>Note that you can also use the <a href="https://medium.com/netscape/the-case-for-monorepos-907c1361708a">monorepo methodology</a> which allows for separate builds without having separate code repositories.</p>
<p>Advantages:</p>
<ul>
<li>npm install is familiar and easy to set up</li>
<li>Separate npm packages means each application can build itself separately before publishing to npm</li>
</ul>
<p>Disadvantages:</p>
<ul>
<li>The root application must reinstall the child applications in order to rebuild/redeploy</li>
<li>Medium difficulty to set up</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="option-3-dynamic-module-loading"></a><a href="#option-3-dynamic-module-loading" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Option 3: Dynamic Module Loading</h4>
<p>Create a root application which can allow single-spa applications to deploy themselves separately. To do so,
create a manifest file that the single-spa applications update during their deployment process, which controls
which versions of the single-spa applications are &quot;live&quot;. Then change which javascript file is loaded based on the manifest.</p>
<p>Changing which javascript file is loaded for each child application can be done in many ways.</p>
<ol>
<li>Web server: have your webserver create a dynamic script tag for the &quot;live&quot; version of each single-spa application.</li>
<li>Use a <a href="https://www.jvandemo.com/a-10-minute-primer-to-javascript-modules-module-formats-module-loaders-and-module-bundlers/">module loader</a> such as <a href="https://github.com/systemjs/systemjs">SystemJS</a> that can download and execute javascript code in the browser from dynamic urls.</li>
</ol>
<h4><a class="anchor" aria-hidden="true" id="comparison"></a><a href="#comparison" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Comparison</h4>
<style>
  .comparisonTable td {
    width: 25%;
  }
  .comparisonTable .middle {
    text-align: center;
    vertical-align: middle;
  }
  .comparisonTable ul {
    padding-left: 1em;
  }
</style>
<table class="comparisonTable">
  <caption>Comparison of front-end system architectures</caption>
  <thead>
    <tr>
      <th></th>
      <th scope="col" class="middle">Monorepo</th>
      <th scope="col" class="middle">NPM modules</th>
      <th scope="col" class="middle">Module loading</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">Difficulty to set up</th>
      <td class="middle">Easy</td>
      <td class="middle">Medium</td>
      <td class="middle">Hard</td>
    </tr>
    <tr>
      <th scope="row">Separate code repositories</th>
      <td class="middle">
        <span class="sr-text">No</span>
      </td>
      <td class="middle">
        <span class="sr-text">No</span>  
      </td>
      <td class="middle">
        <span role="img" aria-label="Yes">✅</span>
      </td>
    </tr>
    <tr>
      <th scope="row">Separate builds</th>
      <td class="middle">
        <span class="sr-text">No</span>
      </td>
      <td class="middle">
        <span role="img" aria-label="Yes">✅</span>
      </td>
      <td class="middle">
        <span role="img" aria-label="Yes">✅</span>
      </td>
    </tr>
    <tr>
      <th scope="row">Separate deployments</th>
      <td class="middle">
        <span class="sr-text">No</span>
      </td>
      <td class="middle">
        <span role="img" aria-label="Yes">✅</span>
      </td>
      <td class="middle">
        <span role="img" aria-label="Yes">✅</span>
      </td>
    </tr>
    <tr>
      <th>Examples</th>
      <td>
        <ul>
          <li>
            <a href="https://github.com/joeldenning/simple-single-spa-webpack-example">simple-webpack-example</a>
          </li>
          <li>
            <a href="https://github.com/CanopyTax/single-spa-examples">single-spa-examples</a>
          </li>
        </ul>
      </td>
      <td>Contributions accepted!</td>
      <td>
        <ul>
          <li>
            <a href="https://gitlab.com/TheMcMurder/single-spa-portal-example">SystemJS example</a>
          </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/building-applications.html"><span class="arrow-prev">← </span><span>single-spa applications</span></a><a class="docs-next button" href="/docs/migrating-existing-spas.html"><span>Migrating existing code</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/logo-white-bgblue.svg" alt="single-spa" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/en/faq.html">FAQ</a><a href="/docs/en/getting-started-overview.html">Getting Started</a><a href="/docs/en/examples.html">Examples</a><a href="/docs/en/api.html">API Reference</a><a href="/docs/en/contributing-overview.html">Contribution Guide</a></div><div><h5>Community</h5><a href="/en/users.html">User Showcase</a><a href="/en/contributors.html">Contributors</a><a href="http://stackoverflow.com/questions/tagged/single-spa" target="_blank" rel="noopener">Stack Overflow</a><a href="https://join.slack.com/t/single-spa/shared_invite/enQtMzIwMTcxNTU3ODQyLTM1Y2U1OWMzNTNjOWYyZDBlMDJhN2VkYzk3MDI2NzQ2Nzg0MzMzNjVhNWE2YjVhMTcxNjFkOWYzMjllMmUxMjk" target="_blank" rel="noopener">Chat in Slack</a><a href="https://twitter.com/Single_spa/" target="_blank" rel="noopener">Twitter</a></div><div><h5>More</h5><a href="https://github.com/CanopyTax/single-spa">GitHub</a><a href="https://opencollective.com/single-spa">Donate</a><a href="/blog">Blog</a><a class="github-button" href="https://github.com/CanopyTax/single-spa" target="_blank" rel="noopener" data-icon="octicon-star" data-count-href="/CanopyTax/single-spa/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a><a href="/img/icons/148705-essential-collection/license/license.html">License for icons</a></div></section><a href="https://www.canopytax.com/" target="_blank" rel="noopener" class="cpOpenSource"><img src="/img/canopy-logo-icon.svg" alt="CanopyTax Open Source" height="45"/></a><section class="copyright">© 2019 CanopyTax</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '113e711177d63ab1ff28ef858cbcffa5',
                indexName: 'single_spa',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>