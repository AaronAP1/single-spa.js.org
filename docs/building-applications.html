<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Building single-spa applications · single-spa</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="A single-spa registered application is everything that a normal SPA is, except that it doesn&#x27;t have an HTML page."/><meta property="og:title" content="Building single-spa applications · single-spa"/><meta property="og:type" content="website"/><meta property="og:url" content="https://canopytax.github.io/single-spa.js.org/index.html"/><meta property="og:description" content="A single-spa registered application is everything that a normal SPA is, except that it doesn&#x27;t have an HTML page."/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/logo-blue-favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://canopytax.github.io/single-spa.js.org/blog/atom.xml" title="single-spa Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://canopytax.github.io/single-spa.js.org/blog/feed.xml" title="single-spa Blog RSS Feed"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:300|Oswald:300, 400|Roboto:100, 400"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script><script type="text/javascript" src="/js/index.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener("DOMContentLoaded", function(){
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible doc separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/logo-white-bgblue.svg" alt="single-spa"/><h2 class="headerTitleWithLogo">single-spa</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive siteNavItemActive"><a href="/docs/building-applications.html" target="_self">Docs</a></li><li class=""><a href="/en/help.html" target="_self">Help</a></li><li class=""><a href="/blog" target="_self">Blog</a></li><li class=""><a href="https://github.com/CanopyTax/single-spa" target="_self">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>single-spa Applications</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Getting Started</h3><ul><li class="navListItem"><a class="navItem" href="/docs/starting-from-scratch.html">Starting from scratch</a></li><li class="navListItem"><a class="navItem" href="/docs/migrating-react-tutorial.html">React - Migrating to single-spa</a></li><li class="navListItem"><a class="navItem" href="/docs/migrating-angular-tutorial.html">Angular - Migrating to single-spa</a></li></ul></div><div class="navGroup navGroupActive"><h3>single-spa Applications</h3><ul><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/docs/building-applications.html">Building</a></li><li class="navListItem"><a class="navItem" href="/docs/configuration.html">Configuration</a></li><li class="navListItem"><a class="navItem" href="/docs/separating-applications.html">Separating</a></li><li class="navListItem"><a class="navItem" href="/docs/migrating-existing-spas.html">Migrating</a></li><li class="navListItem"><a class="navItem" href="/docs/api.html">API</a></li></ul></div><div class="navGroup navGroupActive"><h3>single-spa Parcels</h3><ul><li class="navListItem"><a class="navItem" href="/docs/parcels-overview.html">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/parcels-api.html">API</a></li></ul></div><div class="navGroup navGroupActive"><h3>Examples</h3><ul><li class="navListItem"><a class="navItem" href="/docs/examples.html">Examples</a></li></ul></div><div class="navGroup navGroupActive"><h3>Ecosystem</h3><ul><li class="navListItem"><a class="navItem" href="/docs/ecosystem.html">Ecosystem</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-angular1.html">AngularJS</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-angular2.html">Angular 2+</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-angular-cli.html">Angular-Cli</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-cycle.html">Cycle</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-ember.html">Ember</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-inferno.html">Inferno</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-preact.html">Preact</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-react.html">React</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-svelte.html">svelte</a></li><li class="navListItem"><a class="navItem" href="/docs/ecosystem-vue.html">Vue</a></li></ul></div></div></section></div><script>
            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/CanopyTax/single-spa.js.org/blob/master/docs/building-applications.md" target="_blank" rel="noreferrer noopener">Edit</a><h1>Building single-spa applications</h1></header><article><div><span><p>A single-spa registered application is everything that a normal SPA is, except that it doesn't have an HTML page.
In a single-spa world, your SPA contains many registered applications, where each has its own framework.
registered applications have their own client-side routing and their own frameworks/libraries.
They render their own html and have full freedom to do whatever they want, whenever they are <em>mounted</em>.
The concept of being <em>mounted</em> refers to whether a registered application is putting content on the DOM or not.
What determines if a registered application is mounted is its <a href="/docs/configuration.html#activity-function">activity function</a>.
Whenever a registered application is <em>not mounted</em>, it should remain completely dormant until mounted.</p>
<h2><a class="anchor" aria-hidden="true" id="creating-a-registered-application"></a><a href="#creating-a-registered-application" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Creating a registered application</h2>
<p>To create a registered application, first
<a href="/docs/configuration.html#registering-applications">register the application with single-spa</a>.
Once registered, the registered application must correctly implement <strong>all</strong> of the following lifecycle functions
inside of its main entry point.</p>
<h2><a class="anchor" aria-hidden="true" id="registered-application-lifecycle"></a><a href="#registered-application-lifecycle" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Registered application lifecycle</h2>
<p>During the course of a single-spa page, registered applications are loaded, initialized (bootstrapped), mounted, unmounted, and unloaded.
single-spa provides hooks into each phase via <code>lifecycles</code>.</p>
<p>A lifecycle function is a function or array of functions that single-spa will call on a registered application.
Single-spa calls these by finding exported functions from the registered application's main file.</p>
<p>Notes:</p>
<ul>
<li>Implementing <code>bootstrap</code>, <code>mount</code>, and <code>unmount</code> is required. But implementing <code>unload</code> is optional.</li>
<li>Each lifecycle function must either return a <code>Promise</code> or be an <code>async function</code>.</li>
<li>If an array of functions is exported (instead of just one function), the functions will be called
one-after-the-other, waiting for the resolution of one function's promise before calling the next.</li>
<li>If single-spa is <a href="/docs/api.html#start">not started</a>, applications will be loaded,
but will not be bootstrapped, mounted or unmounted.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="lifecyle-props"></a><a href="#lifecyle-props" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Lifecyle props</h2>
<p>Lifecycle functions are called with a <code>props</code> argument, which is an object with some guaranteed information and also some custom information.</p>
<p>Example:</p>
<pre><code class="hljs css languages- js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bootstrap</span>(<span class="hljs-params">props</span>) </span>{
  <span class="hljs-built_in">console</span>.log(props) <span class="hljs-comment">// will log appName, the singleSpa instance, and custom props</span>
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.resolve()
}
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="built-in-props"></a><a href="#built-in-props" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Built-in props</h4>
<p>Each lifecycle function is guranteed to be called with the following props:</p>
<ul>
<li><code>appName</code>: The string name that was registered to single-spa.</li>
<li><code>singleSpa</code>: A reference to the singleSpa instance, itself. This is intended to allow applications and helper libraries to call singleSpa
APIs without having to import it. This is useful in situations where there are multiple webpack configs that are not set up to ensure
that only one instance of singleSpa is loaded.</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="custom-props"></a><a href="#custom-props" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Custom props</h4>
<p>In addition to the built-in props that are provided by single-spa, you may optionally specify custom props to be passed to an application.
This is done by passing a fourth argument to registerApplication, which will be the customProps passed to each lifecycle method.</p>
<p>Example:</p>
<pre><code class="hljs css languages- js"><span class="hljs-comment">// root-application.js</span>
singleSpa.registerApplication(<span class="hljs-string">'app1'</span>, () =&gt;  {}, () =&gt; {}, {<span class="hljs-attr">authToken</span>: <span class="hljs-string">"d83jD63UdZ6RS6f70D0"</span>});
</code></pre>
<pre><code class="hljs css languages- js"><span class="hljs-comment">// app1.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mount</span>(<span class="hljs-params">props</span>) </span>{
  <span class="hljs-built_in">console</span>.log(props.customProps.authToken); <span class="hljs-comment">// do something with the common authToken in app1</span>
  <span class="hljs-keyword">return</span> reactLifecycles.mount(props);
}
</code></pre>
<p>The usecases may include:</p>
<ul>
<li>share common access Tokens with all child apps</li>
<li>pass down some initialization information like the rendering target</li>
<li>pass a reference to a common event bus so each app may talk to each other</li>
</ul>
<p>Note that when no customProps are provided during registration, <code>props.customProps</code> defaults to an empty object.</p>
<h3><a class="anchor" aria-hidden="true" id="lifecycle-helpers"></a><a href="#lifecycle-helpers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Lifecycle helpers</h3>
<p>Helper libraries that helps implement lifecycle functions for specific frameworks, libraries, and applications
is available for many popular technologies. See <a href="/docs/ecosystem.html">the ecosystem docs</a> for details.</p>
<h3><a class="anchor" aria-hidden="true" id="load"></a><a href="#load" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Load</h3>
<p>When registered applications are being lazily loaded, this refers to when the code for a registered application
is fetched from the server and executed. This will happen once the registered application's <a href="/docs/configuration.html#activity-function">activity function</a>
returns a truthy value for the first time. It is best practice to do as little as possible / nothing at all
during <code>load</code>, but instead to wait until the bootstrap lifecycle function to do anything.
If you need to do something during <code>load</code>, simply put the code into a registered application's main entry point,
but not inside of an exported function.</p>
<p>For example:</p>
<pre><code class="hljs css languages- js"><span class="hljs-built_in">console</span>.log(<span class="hljs-string">"The registered application has been loaded!"</span>);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bootstrap</span>(<span class="hljs-params">props</span>) </span>{...}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mount</span>(<span class="hljs-params">props</span>) </span>{...}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">unmount</span>(<span class="hljs-params">props</span>) </span>{...}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="bootstrap"></a><a href="#bootstrap" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Bootstrap</h3>
<p>This lifecycle function will be called once, right before the registered application is
mounted for the first time.</p>
<pre><code class="hljs css languages- js"><span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bootstrap</span>(<span class="hljs-params">props</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>
        .resolve()
        .then(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
            <span class="hljs-comment">// This is where you do one-time initialization</span>
            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'bootstrapped!'</span>)
        });
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="mount"></a><a href="#mount" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Mount</h3>
<p>This lifecycle function will be called whenever the registered application is not mounted, but its
<a href="/docs/configuration.html#activity-function">activity function</a> returns a truthy value. When
called, this function should look at the URL to determine the active route and then create
DOM elements, DOM event listeners, etc. to render content to the user. Any subsequent routing
events (such as <code>hashchange</code> and <code>popstate</code>) will <strong>not</strong> trigger more calls to <code>mount</code>, but
instead should be handled by the application itself.</p>
<pre><code class="hljs css languages- js"><span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mount</span>(<span class="hljs-params">props</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>
        .resolve()
        .then(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
            <span class="hljs-comment">// This is where you tell a framework (e.g., React) to render some ui to the dom</span>
            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'mounted!'</span>)
        });
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="unmount"></a><a href="#unmount" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Unmount</h3>
<p>This lifecycle function will be called whenever the registered application is mounted, but its
<a href="/docs/configuration.html#activity-function">activity function</a> returns a falsy value. When
called, this function should clean up all DOM elements, DOM event listeners, leaked memory, globals,
observable subscriptions, etc. that were created at any point when the registered application was mounted.</p>
<pre><code class="hljs css languages- js"><span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">unmount</span>(<span class="hljs-params">props</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>
        .resolve()
        .then(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
            <span class="hljs-comment">// This is where you tell a framework (e.g., React) to unrender some ui from the dom</span>
            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'unmounted!'</span>);
        });
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="unload"></a><a href="#unload" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Unload</h3>
<p>The <code>unload</code> lifecycle is an optionally implemented lifecycle function. It will be called whenever an application should be
<code>unloaded</code>. This will not ever happen unless someone calls the <a href="/docs/api.html#unloadapplication"><code>unloadApplication</code></a> API.
If a registered application does not implement the unload lifecycle, then it assumed that unloading the app is a no-op.</p>
<p>The purpose of the <code>unload</code> lifecycle is to perform logic right before a single-spa application is unloaded. Once
the application is unloaded, the application status will be NOT_LOADED and the application will be re-bootstrapped.</p>
<p>The motivation for <code>unload</code> was to implement the hot-loading of entire registered applications, but it is useful in other
scenarios as well when you want to re-bootstrap applications, but perform some logic before applications are re-bootstrapped.</p>
<pre><code class="hljs css languages- js"><span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">unload</span>(<span class="hljs-params">props</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>
        .resolve()
        .then(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
            <span class="hljs-comment">// This is where you would normally do whatever it is you need to hot reload the code.</span>
            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'unloaded!'</span>);
        });
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="timeouts"></a><a href="#timeouts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Timeouts</h2>
<p>By default, registered applications obey the global dieOnTimeout configuration,
but can override that behavior for their specific application. This is done by exporting a <code>timeouts</code> object
from the main entry point of the registered application. Example:</p>
<pre><code class="hljs css languages- js"><span class="hljs-comment">// app-1.main-entry.js</span>

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bootstrap</span>(<span class="hljs-params">props</span>) </span>{...}
<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mount</span>(<span class="hljs-params">props</span>) </span>{...}
<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">unmount</span>(<span class="hljs-params">props</span>) </span>{...}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> timeouts = {
  <span class="hljs-attr">bootstrap</span>: {
    <span class="hljs-attr">millis</span>: <span class="hljs-number">5000</span>,
    <span class="hljs-attr">dieOnTimeout</span>: <span class="hljs-literal">true</span>,
  },
  <span class="hljs-attr">mount</span>: {
    <span class="hljs-attr">millis</span>: <span class="hljs-number">5000</span>,
    <span class="hljs-attr">dieOnTimeout</span>: <span class="hljs-literal">false</span>,
  },
  <span class="hljs-attr">unmount</span>: {
    <span class="hljs-attr">millis</span>: <span class="hljs-number">5000</span>,
    <span class="hljs-attr">dieOnTimeout</span>: <span class="hljs-literal">true</span>,
  },
  <span class="hljs-attr">unload</span>: {
    <span class="hljs-attr">millis</span>: <span class="hljs-number">5000</span>,
    <span class="hljs-attr">dieOnTimeout</span>: <span class="hljs-literal">true</span>,
  },
};
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="transitioning-between-applications"></a><a href="#transitioning-between-applications" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Transitioning between applications</h2>
<p>If you find yourself wanting to add transitions as applications are mounted and unmounted, then you'll probably want to tie into the <code>bootstrap</code>, <code>mount</code>, and <code>unmount</code> lifecycle methods.  <a href="https://github.com/frehner/singlespa-transitions">This repo</a> is a small proof-of-concept of how you can tie into these lifecycle methods to add transitions as your apps mount and unmount.</p>
<p>Transitions for pages within a mounted application can be handled entirely by the application itself, for example using <a href="https://github.com/reactjs/react-transition-group">react-transition-group</a> for React-based projects.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/migrating-angular-tutorial.html">← Migrating an Existing Angular Project</a><a class="docs-next button" href="/docs/configuration.html">Using single-spa-config →</a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#creating-a-registered-application">Creating a registered application</a></li><li><a href="#registered-application-lifecycle">Registered application lifecycle</a></li><li><a href="#lifecyle-props">Lifecyle props</a><ul class="toc-headings"><li><a href="#lifecycle-helpers">Lifecycle helpers</a></li><li><a href="#load">Load</a></li><li><a href="#bootstrap">Bootstrap</a></li><li><a href="#mount">Mount</a></li><li><a href="#unmount">Unmount</a></li><li><a href="#unload">Unload</a></li></ul></li><li><a href="#timeouts">Timeouts</a></li><li><a href="#transitioning-between-applications">Transitioning between applications</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/logo-white-bgblue.svg" alt="single-spa" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/en/building-applications.html">Getting Started</a><a href="/docs/en/examples.html">Examples</a><a href="/docs/en/api.html">API Reference</a></div><div><h5>Community</h5><a href="/en/users.html">User Showcase</a><a href="http://stackoverflow.com/questions/tagged/single-spa" target="_blank" rel="noopener">Stack Overflow</a><a href="https://join.slack.com/t/single-spa/shared_invite/enQtMzIwMTcxNTU3ODQyLTM1Y2U1OWMzNTNjOWYyZDBlMDJhN2VkYzk3MDI2NzQ2Nzg0MzMzNjVhNWE2YjVhMTcxNjFkOWYzMjllMmUxMjk" target="_blank" rel="noopener">Chat in Slack</a><a href="https://twitter.com/" target="_blank" rel="noopener">Twitter</a></div><div><h5>More</h5><a href="/blog">Blog</a><a href="https://github.com/CanopyTax/single-spa">GitHub</a><a class="github-button" href="https://github.com/CanopyTax/single-spa" target="_blank" rel="noopener" data-icon="octicon-star" data-count-href="/CanopyTax/single-spa/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://www.canopytax.com/" target="_blank" rel="noopener" class="fbOpenSource"><img src="https://www.canopytax.com/files/themes/canopy/images/menu-head--ico-mobile.png" alt="CanopyTax Open Source" height="45"/></a><section class="copyright">Copyright © 2018 CanopyTax</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
              var search = docsearch({
                
                apiKey: '113e711177d63ab1ff28ef858cbcffa5',
                indexName: 'single_spa',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>